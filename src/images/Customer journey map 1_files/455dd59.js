(window.webpackJsonp=window.webpackJsonp||[]).push([[94,147],{1e3:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ProjectViewMenu",data:()=>({isProjectViewVisible:!1}),computed:l(l({},Object(o.c)("projects",["currentProjectId"])),Object(o.c)("templateLocalState",["currentProjectView"])),methods:l(l(l({},Object(o.d)("templateLocalState",["addOrUpdateProjectView"])),Object(o.b)("artifacts",["fetchConnectionsArtifacts"])),{},{changeProjectViewType(t){this.$tracker.trackProjectChangeView(t),this.changeRouteQuery(t),this.setProjectViewType(t)},async setProjectViewType(t){"connections"===t&&await this.fetchConnectionsArtifacts({projectId:this.currentProjectId}),this.addOrUpdateProjectView({projectId:this.currentProjectId,value:t})},changeRouteQuery(e){const n=l(l({},t.get(this.$store,"state.route.query",{})),{},{projectView:e});this.$router.push({query:n})}})}}).call(this,n(12))},1001:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=(n(16),n(11)),c=n(346),l=n(349);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ProjectMenu",components:{PermissionControl:c.a,PermissionControlTooltip:l.a},computed:m(m(m(m(m({},Object(o.e)("ui",["projectMenu"])),Object(o.e)("projects",["menuProjectId"])),Object(o.c)("projects",["menuProject","menuProjectArtifactCounts"])),Object(o.c)("workspaces",["contributorInWorkspacesIds"])),{},{isVisible:{get(){return this.projectMenu.isVisible},set(t){t||this.closeProjectMenu()}},isPresentButtonVisible(){return t.sum(t.values(this.menuProjectArtifactCounts))>0}}),methods:m(m(m(m(m({},Object(o.d)("ui",["closeProjectMenu"])),Object(o.b)("ui",["openProFeatureOverviewDialog","openShareProjectDialog","openCopyProjectDialog"])),Object(o.d)("projects",["setMenuProjectId"])),Object(o.b)("projects",["deleteProjects","leaveProjects"])),{},{openMoveProjectDialog(){this.$openDialog({title:"move to another workspace",component:()=>n.e(33).then(n.bind(null,1060))})},handlePresentButtonClick(t,e){t?this.presentProject():e&&this.openProFeatureOverviewDialog({feature:"presentation"})},handleCopyButtonClick(t,e){t?this.openCopyProjectDialog():e&&this.openProFeatureOverviewDialog({feature:"copying"})},async presentProject(){const e=t.get(this.menuProject,"workspace.id");this.$tracker.trackEnterPresentationMode(),window.open("/present/w/".concat(e,"/p/").concat(this.menuProjectId))}})}}).call(this,n(12))},1002:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(8),c=n.n(o),l=n(11),d=n(15),m=n(346),h=n(349);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ArtifactMenu",components:{PermissionControl:m.a,PermissionControlTooltip:h.a},data:()=>({historyEnabled:d.artifactVersions.enabled}),computed:v(v(v(v(v(v(v({},Object(l.c)("auth",["isAuthenticated"])),Object(l.e)("ui",["artifactMenu"])),Object(l.e)("artifacts",["menuArtifactId","artifacts"])),Object(l.c)("projects",["firstActionableProject"])),Object(l.c)("artifacts",["firstActionableArtifact"])),Object(l.c)("versions",["lastVersionNumber"])),{},{isVisible:{get(){return this.artifactMenu.isVisible},set(t){t||this.closeArtifactMenu()}}}),methods:v(v(v(v(v(v({},Object(l.d)("ui",["closeArtifactMenu","openDialog"])),Object(l.b)("ui",["openProFeatureOverviewDialog","openCopyArtifactDialog"])),Object(l.b)("artifacts",["deleteArtifacts"])),Object(l.b)("versions",["fetchVersions"])),Object(l.d)("artifacts",["setMenuArtifactId"])),{},{openMoveArtifactDialog(){this.$openDialog({title:"move to another project",component:()=>n.e(12).then(n.bind(null,1176))})},openExportDialog(){this.$openDialog({title:"Export settings",component:()=>n.e(31).then(n.bind(null,1067)),dialogProps:{persistent:!0,shouldSaveState:!0,cssClass:"fullheight-dialog"}},"export-settings-dialog")},presentArtifact(){const e=this.artifacts[this.menuArtifactId],{workspaceId:n}=this.$route.params,r=t.get(this.$route,"params.projectId")||t.get(e,"project.id");this.$tracker.trackEnterPresentationMode(),window.open("/present/w/".concat(n,"/p/").concat(r,"/artifact/").concat(this.menuArtifactId))},onPresentButtonClick(t,e){t?this.presentArtifact():e&&this.openProFeatureOverviewDialog({feature:"presentation"})},async onVersionButtonClick(e){if(e){const e=this.artifacts[this.menuArtifactId],{slug:n}=c.a[e.type],{workspaceId:r}=this.$route.params,o=t.get(this.$route,"params.projectId")||t.get(e,"project.id");await this.fetchVersions({artifactId:e.id});const l="/w/".concat(r,"/p/").concat(o,"/").concat(n,"/").concat(this.menuArtifactId,"?isVersionMode=true&version=").concat(this.lastVersionNumber);await this.$router.push(l)}},onCopyButtonClick(t,e){if(t){const t=this.artifacts[this.menuArtifactId];this.setMenuArtifactId(t.id),this.openCopyArtifactDialog()}else e&&this.openProFeatureOverviewDialog({feature:"copying"})}})}}).call(this,n(12))},1003:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11),c=n(15),l=n(351),d=n(146),m=n(346),h=n(349),f=n(33),v=n(354);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ImageUploadMenu",components:{PermissionControl:m.a,PermissionControlTooltip:h.a},mixins:[l.validationMixin],data:()=>({disabled:!1,isLoading:!1,imageUrl:null,tab:0,items:["uploads/upload","uploads/lock"],countOfSuccessfulUploaded:0,uploading:!1,uploadProgressInfo:{icon:"",value:"0%",text:"",size:""}}),computed:_(_(_(_({},Object(o.e)("ui",["imageUploadMenu"])),Object(o.c)("projects",["currentProject","currentProjectId"])),Object(o.c)("workspaces",["currentWorkspaceId"])),{},{dzRequestData(){return{artifact:this.imageUploadMenu.artifactId,context:this.imageUploadMenu.context}}}),methods:_(_(_({},Object(o.d)("ui",["closeImageUploadMenu","openDialog"])),Object(o.b)("ui",["openProFeatureOverviewDialog"])),{},{onStartUpload(){this.uploading=!0},onUploadSuccess(e){this.countOfSuccessfulUploaded+=1;const n=t.get(e,"versions.medium.url");this.imageUploadMenu.onUploaded({urls:[n],ids:[e.id],isFirstUpload:1===this.countOfSuccessfulUploaded})},onComplete(e){this.countOfSuccessfulUploaded=0,this.uploading=!1;const n=e.reduce(((e,n)=>{let{id:r,versions:o,status:c}=n;return"success"===c&&(e={urls:[...e.urls,t.get(o,"medium.url")],ids:[...e.ids,r]}),e}),{ids:[],urls:[]});this.imageUploadMenu.onComplete(n),this.closeImageUploadMenu()},uploadFile(data){if(t.mapKeys(this.dzRequestData,((t,e)=>{data.append(e,t)})),!data)throw Error("No file to upload");try{return this.$axios.$put("artifact-images",data,{baseURL:c.app.rootUrl})}catch(t){throw Error(t)}},showUploadingProgress(data){const{currentUploadingFile:t,countOfAlreadyUploaded:e,totalUploadCount:n,sizeOfAlreadyUploaded:r,sizeOfSuccessfulUploaded:o,totalUploadSize:c}=data;if(t&&e!==n){const{name:l,size:d}=t;this.uploadProgressInfo={icon:Object(v.d)({filename:l}),value:"".concat(Object(f.m)((r+.3*d)/c*100),"%"),text:"<span>Uploading (".concat(e+1," / ").concat(n,")</span>"),size:"".concat(Object(f.d)(Object(f.m)(o+.3*d),1)," of ").concat(Object(f.d)(c,1))}}},cancelUpload(t){const e=this.$refs.uploader;e&&e.cancelUploads(t)},showUploadInformation(t){let data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"cancel"===t?(this.setError({error:"Upload canceled"}),this.uploading=!1):this.setError({error:data.description})},include:()=>[document.querySelector(".image-uploader")],closeConditional(){return this.imageUploadMenu.isVisible},onClickOutside(){this.isLoading&&this.uploading||this.imageUploadMenu.onMenuClose(),this.closeImageUploadMenu()},openImageLibraryDialog(t){t?this.$openDialog({title:"Image Library",component:()=>n.e(138).then(n.bind(null,1346)),dialogProps:{persistent:!0,contentClass:"artifacts__popup"},projectId:this.currentProjectId,insertImages:this.insertImages}):this.openProFeatureOverviewDialog({feature:"teamLibrary"})},async uploadFromUrl(){if(this.imageUrl){this.isLoading=!0;const e=await this.$axios.$post("artifact-images/fromUrl",{url:this.imageUrl,artifact:this.imageUploadMenu.artifactId,context:this.imageUploadMenu.context},{baseURL:c.app.rootUrl}),n={ids:[e.id],urls:[t.get(e,"versions.medium.url")],isFirstUpload:!0};this.imageUploadMenu.onUploaded(n),this.imageUploadMenu.onComplete(n),this.isLoading=!1,this.imageUrl=null,this.closeImageUploadMenu()}},async insertImages(e){let{libraryType:n,libraryFilter:r,ids:o}=e;const l={artifactId:this.imageUploadMenu.artifactId,artifactType:this.artifactType,libraryType:n,imagesIds:o},d=(await this.$axios.$post("/artifact-images/fromLibrary",_(_({artifact:this.imageUploadMenu.artifactId,context:this.imageUploadMenu.context,libraryType:n},r&&{libraryFilter:r}),{},{ids:o}),{baseURL:c.app.rootUrl})).reduce(((e,n)=>{let{id:r,versions:o}=n;return e={urls:[...e.urls,t.get(o,"medium.url")],ids:[...e.ids,r]}}),{ids:[],urls:[]});this.imageUploadMenu.onUploaded(d),this.imageUploadMenu.onComplete(d),this.$tracker.trackArtifactImageLibraryInsert(l),this.closeImageUploadMenu()}}),validations:{imageUrl:{required:d.required,url:d.url}}}}).call(this,n(12))},1007:function(t,e,n){},1010:function(t,e,n){"use strict";n(1037);var r=n(147),o=n(24),c=n(5);e.a=o.a.extend({name:"v-progress-circular",directives:{intersect:r.a},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20,isVisible:!0}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:Object(c.g)(this.calculatedSize),width:Object(c.g)(this.calculatedSize)}},svgStyles(){return{transform:"rotate(".concat(Number(this.rotate),"deg)")}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(t,e){return this.$createElement("circle",{class:"v-progress-circular__".concat(t),attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg(){const t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(this.viewBoxSize," ").concat(this.viewBoxSize," ").concat(2*this.viewBoxSize," ").concat(2*this.viewBoxSize)}},t)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve(t,e,n){this.isVisible=n}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}})},1013:function(t,e,n){},1014:function(t,e,n){},1015:function(t,e,n){},1016:function(t,e,n){},1017:function(t,e,n){},1018:function(t,e,n){},1019:function(t,e,n){},1020:function(t,e,n){},1021:function(t,e,n){},1022:function(t,e,n){},1023:function(t,e,n){},1028:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11),c=n(1265);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"CommentPortalTarget",components:{PortalTarget:c.PortalTarget},props:{portalName:{type:String,required:!0},maxWidth:{default:null,validator:e=>t.isNull(e)||t.isNumber(e)},maxHeight:{default:null,validator:e=>t.isNull(e)||t.isNumber(e)}},data:()=>({isDraggedOver:!1}),computed:d(d(d({},Object(o.c)("artifact",["isCommentMode"])),Object(o.e)("comments",["commentContext"])),{},{rootClass(){return{"vue-portal-target--hover":this.isDraggedOver,"vue-portal-target--active":this.commentContext===this.portalName}}}),methods:d(d({},Object(o.b)("comments",["openAddCommentPopup","setCommentContext"])),{},{onDrop(t){const{x:e,y:n}=t.target.getBoundingClientRect(),r=t.clientX-e-16,o=t.clientY-n-16;this.setCommentContext({context:this.portalName,positionX:r,positionY:o}),this.isDraggedOver=!1},onDragOver(t){t.preventDefault()},onDragEnter(){this.isDraggedOver=!0},onDragLeave(){this.isDraggedOver=!1}})}}).call(this,n(12))},1029:function(t,e,n){"use strict";var r=n(5);function o(t,e){const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),(t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:o}=t;t.offsetX=n-e,t.offsetY=o-r,Math.abs(t.offsetY)<.5*Math.abs(t.offsetX)&&(t.left&&n<e-16&&t.left(t),t.right&&n>e+16&&t.right(t)),Math.abs(t.offsetX)<.5*Math.abs(t.offsetY)&&(t.up&&o<r-16&&t.up(t),t.down&&o>r+16&&t.down(t))})(e)}function c(t){const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:t=>function(t,e){const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}(t,e),touchend:t=>o(t,e),touchmove:t=>function(t,e){const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}(t,e)}}const l={inserted:function(t,e,n){const o=e.value,l=o.parent?t.parentElement:t,d=o.options||{passive:!0};if(!l)return;const m=c(e.value);l._touchHandlers=Object(l._touchHandlers),l._touchHandlers[n.context._uid]=m,Object(r.u)(m).forEach((t=>{l.addEventListener(t,m[t],d)}))},unbind:function(t,e,n){const o=e.value.parent?t.parentElement:t;if(!o||!o._touchHandlers)return;const c=o._touchHandlers[n.context._uid];Object(r.u)(c).forEach((t=>{o.removeEventListener(t,c[t])})),delete o._touchHandlers[n.context._uid]}};e.a=l},1036:function(t,e,n){"use strict";var r=n(175),o=n(170),c=n(1029),l=n(5),d=n(14);const m=Object(d.a)(r.a,Object(o.a)("windowGroup","v-window-item","v-window"));e.a=m.extend().extend().extend({name:"v-window-item",directives:{Touch:c.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:()=>({isActive:!1,inTransition:!1}),computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?void 0!==this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:void 0!==this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(l.g)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(l.g)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}})},1037:function(t,e,n){},1045:function(t,e,n){t.exports=n.p+"img/logo-uxpressia-export.b55779d.svg"},1046:function(t,e,n){"use strict";n(1007)},1056:function(t,e,n){"use strict";var r=n(991).a,o=(n(1046),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("u-fragment",[t.isPageAppSpinnerShow?r("div",{staticClass:"page-app__spinner-wrap"},[r("u-spinner")],1):t._e(),t._v(" "),t.isExport?t._e():r("header-app",{attrs:{disabled:t.isPageAppSpinnerShow},scopedSlots:t._u([{key:"header-actions",fn:function(){return[t._t("toolbar")]},proxy:!0}],null,!0)}),t._v(" "),t._t("content"),t._v(" "),t.isExport&&t.currentWorkspace?r("permission-control",{attrs:{model:"Workspace",action:"showWatermark",instance:t.currentWorkspace},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.isPermission;return[t.isExport&&o?r("div",{class:["logo-export","logo-export--"+t.artifactType]},[r("img",{attrs:{src:n(1045),alt:"Export logo"}}),t._v(" "),r("p",[t._v("This "+t._s("persona"===t.artifactType?"persona":"map")+" was built in uxpressia.com")])]):t._e()]}}],null,!1,1375833523)}):t._e()],2)}),[],!1,null,null,null);e.a=component.exports},1057:function(t,e,n){"use strict";var r=n(1010);e.a=r.a},1059:function(t,e,n){"use strict";n.r(e);n(10);var r=n(3),o=n(11),c=n(346),l=n(1027);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}const h=Object(l.importFiles)("~/assets/img/dashboard/add-new");var f={name:"AddArtifactItem",props:{template:{type:Object,default:()=>{}},permissions:{type:Object,default:()=>({isAdmin:!1,isPermission:!1})}},data:()=>({selected:!0}),computed:m(m({},Object(o.c)("workspaces",["currentWorkspaceId","currentWorkspaceAdmins"])),{},{readonly(){return!this.permissions.isPermission},artifactClass(){return["theme-".concat(this.template.type),{"is-readonly":this.readonly}]},img(){return h("./add-new-".concat(this.template.img,".png"))},adminEmails(){return this.currentWorkspaceAdmins.map((t=>t.email))}})},v=(n(1071),n(9)),y=n(20),_=n.n(y),w=n(978),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-artifact-item",class:t.artifactClass,on:{click:function(e){return t.$emit("select",t.template)}}},[n("div",{staticClass:"add-artifact-item__img",style:{"background-image":"url("+t.img+")"}},[n("v-checkbox",{staticClass:"add-artifact-item__select-flag",attrs:{dark:"","hide-details":"",ripple:!1,readonly:!0},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),n("div",{staticClass:"add-artifact-item__name"},t._l(t.template.name,(function(e){return n("div",{key:e,staticClass:"add-artifact-item__name-item"},[t._v("\n        "+t._s(e)+"\n      ")])})),0)],1),t._v(" "),n("div",{staticClass:"add-artifact-item__content"},[n("div",{staticClass:"add-artifact-item__title"},[t._v("\n      "+t._s(t.template.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"add-artifact-item__description"},[t._v("\n      "+t._s(t.template.description)+"\n    ")])]),t._v(" "),t.readonly?n("div",{staticClass:"add-artifact-item__lock"},[n("div",{staticClass:"add-artifact-item__lock-content"},[n("span",{staticClass:"add-artifact-item__lock-text"},[t._v("\n        Adding more maps/personas is not available on your plan.\n      ")]),t._v(" "),t.permissions.isAdmin?n("nuxt-link",{staticClass:"add-artifact-item__lock-link",attrs:{to:"/workspace/"+t.currentWorkspaceId+"/billing?upgrading=true"},nativeOn:{click:function(e){return t.$tracker.trackClickChangeSubscriptionToPro({source:"add-artifact"})}}},[t._v("\n        Unlock unlimited maps & personas\n      ")]):n("span",{staticClass:"add-artifact-item__lock-text"},[t._v("\n        Contact workspace admin\n        "),t._l(t.adminEmails,(function(e,i){return[n("a",{key:"admin-email-"+i,attrs:{href:"mailto:"+e}},[t._v(t._s(e))]),t._v(" "),i<t.adminEmails.length-2?n("span",[t._v(", ")]):t._e(),t._v(" "),i===t.adminEmails.length-2?n("span",[t._v(" or ")]):t._e()]})),t._v("\n        to get you back on Pro\n      ")],2)],1)]):t._e()])}),[],!1,null,"3cf1258c",null),j=component.exports;_()(component,{VCheckbox:w.a});const O={cjm:[{type:"cjm",templateId:null,slug:"m",img:"cjm-blank",name:["Blank customer","journey (default)"],title:"Blank customer journey (default)",description:"This generic customer journey map comes with a default set of stages, from Aware to Leave, that will be appropriate for the majority of services. Start with this blank template if you need help with structuring the map for your project."},{type:"cjm",templateId:"5adf513a09ee5958d92c47fc",slug:"m",img:"cjm-mobile",name:["Mobile app user","journey"],title:"Mobile app user journey",description:"This pre-filled template visualizes in detail all the stages a mobile app user goes through, from awareness to app deletion. It describes user actions and goals, user experience at every stage, processes and channels, possible problems and their solutions."},{type:"cjm",templateId:"5ae313fb2cb92821ed712347",slug:"m",img:"cjm-employee",name:["Employee journey"],title:"Employee journey",description:"This template spans the whole employment lifecycle from a job search to leaving the company. It covers employee goals and expectations, processes and channels, employee experience, problems, and ideas on how to solve them."},{type:"cjm",templateId:"5ae3097c2cb92821ed7122ad",slug:"m",img:"cjm-ecommerce",name:["E-commerce","customer journey"],title:"E-commerce customer journey",description:"This template illustrates all the key steps an e-commerce customer takes when engaging with an internet-based business. It tells the entire story of a customer’s experience before, during, and after engagement with an online store."},{type:"cjm",templateId:"5c88f7a5ee1d711ab14bbb6e",slug:"m",img:"cjm-service",name:["Service blueprint"],title:"Service blueprint",description:"In this template, you’ll find both core and optional service blueprint elements that will help you create a detailed visualization of the relationships between all the components of your existing or planned service."}],persona:[{type:"persona",templateId:null,slug:"p",img:"persona-blank",name:["Blank persona","(default)"],title:"Blank persona (default)",description:"Persona is a starting point for any customer journey and impact map, and it can also be used separately to capture target user groups and their needs. This template has all the sections you might need to build a persona, and you can always add your own sections if you want."},{type:"persona",templateId:"5b4f45a22300691f588cb45d",slug:"p",img:"persona-buyer",name:["B2B buyer persona"],title:"B2B buyer persona",description:"Buyer personas are unique to each business and are the result of careful market research and the analysis of your real customers. This template will show you all the information you need to include, and will provide some useful hints on what to look for."},{type:"persona",templateId:"5b56eb885833af6535f465ea",slug:"p",img:"persona-empathy",name:["Empathy map"],title:"Empathy map",description:"Empathy mapping comes in handy in establishing a shared understanding of customer needs among stakeholders. This template covers all the basic empathy map sections and contains the questions to ask yourself and your teammates when filling them out."},{type:"persona",templateId:"5ca62370875dae29247f2c4c",slug:"p",img:"persona-practices",name:["Persona best","practices"],title:"Persona best practices",description:"This template includes a lot of thought-provoking questions to help you build your own persona. It will be useful for those who have no idea where to start."}],"impact-map":[{type:"impact-map",templateId:null,slug:"i",img:"im-blank",name:["Blank impact map","(default)"],title:"Blank impact map (default)",description:"Impact map is a product planning technique that helps to go from a business goal to specific user stories and form a product backlog. Use our template to carefully plan your products and projects to ensure that they make a real impact."}]};function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={name:"AddArtifact",components:{PermissionControl:c.a,AddArtifactItem:j},props:{artifactCreated:{type:Function,required:!0}},data:()=>({possibleArtifactTypes:[{value:"cjm",title:"journey maps"},{value:"persona",title:"personas"},{value:"impact-map",title:"impact maps"}],possibleArtifacts:O,clearAllContent:!1,selectedArtifactType:0,selectedArtifactIndex:0,isFetchingTemplate:!1}),computed:k(k(k({},Object(o.c)("workspaces",["currentWorkspaceId"])),Object(o.c)("projects",["currentProject"])),{},{selectedArtifact(){const t=this.possibleArtifactTypes[this.selectedArtifactType].value;return this.possibleArtifacts[t][this.selectedArtifactIndex]},isReadOnly(){return!this.selectedArtifact||this.isFetchingTemplate||this.selectedArtifact&&!this.selectedArtifact.templateId}}),methods:k(k(k({},Object(o.b)("artifacts",["createArtifact"])),Object(o.b)("templates",["createArtifactBasedOnTemplate"])),{},{onTabsChange(){this.selectedArtifactIndex=0,this.clearAllContent=!1,document.querySelector(".v-window").scrollTop=0},async handleCreateArtifact(){this.selectedArtifact.templateId?await this.createArtifactFromTemplate():await this.createArtifactFromBlank()},selectArtifact(t){this.selectedArtifactIndex=t},async createArtifactFromBlank(){const{projectId:t}=this.$route.params,{type:e}=this.selectedArtifact;this.isFetchingTemplate=!0,await this.createArtifact({projectId:t,type:e}),this.isFetchingTemplate=!1,this.artifactCreated(this.selectedArtifact)},async createArtifactFromTemplate(){const{projectId:t,workspaceId:e}=this.$route.params,{type:n,title:title,templateId:r}=this.selectedArtifact;this.isFetchingTemplate=!0;try{await this.createArtifactBasedOnTemplate({templateId:r,workspaceId:e,projectId:t,artifactType:n,artifactTitle:title,withContent:!this.clearAllContent}),this.isFetchingTemplate=!1,this.artifactCreated(this.selectedArtifact)}catch(t){this.isFetchingTemplate=!1}}})},A=(n(1072),n(3463)),I=n(1254),V=n(3552),x=Object(v.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-artifacts-popup",class:"theme-"+t.possibleArtifactTypes[t.selectedArtifactType].value},[n("div",{staticClass:"add-artifacts-popup__body"},[n("v-tabs",{staticClass:"u-tabs u-tabs--light-bg",on:{change:t.onTabsChange},model:{value:t.selectedArtifactType,callback:function(e){t.selectedArtifactType=e},expression:"selectedArtifactType"}},[t._l(t.possibleArtifactTypes,(function(e){return n("v-tab",{key:"v-tab-header-"+e.value,staticClass:"u-tabs__tab",attrs:{ripple:""}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),t._v(" "),t._l(t.possibleArtifactTypes,(function(e){return n("v-tab-item",{key:"v-tab-item-"+e.value},[t.currentProject?n("permission-control",{attrs:{action:"create",model:"Artifact",instance:{type:e.value,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.isAdmin,c=r.isPermission;return[n("div",{staticClass:"add-artifacts-popup__content"},[t._l(t.possibleArtifacts[e.value],(function(r,l){return n("add-artifact-item",{key:r.templateId||""+e.value+l,class:{"is-active":t.selectedArtifact.templateId===r.templateId&&c},attrs:{template:r,permissions:{isAdmin:o,isPermission:c}},on:{select:function(e){return t.selectArtifact(l)}}})})),t._v(" "),n("div",{staticClass:"add-artifacts-popup__link"},[n("nuxt-link",{attrs:{to:"/w/templates"}},[t._v("\n                  See all templates "),n("icon",{attrs:{name:"arrow",width:"10",height:"10"}})],1)],1)],2)]}}],null,!0)}):t._e()],1)}))],2)],1),t._v(" "),n("div",{staticClass:"text-center pt-2 add-artifacts-popup__actions",attrs:{"data-cy":"add_art_popup_bottom"}},[t.currentProject?n("permission-control",{attrs:{action:"create",model:"Artifact",instance:{project:t.currentProject,type:t.selectedArtifact.type}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission;return[n("div",[n("v-checkbox",{staticClass:"add-artifacts-popup__actions-check",attrs:{"hide-details":"",label:"Clear all content",disabled:t.isReadOnly||!r},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:t.clearAllContent,callback:function(e){t.clearAllContent=e},expression:"clearAllContent"}}),t._v(" "),n("u-button",{staticClass:"mx-2 mt-2",attrs:{disabled:!t.selectedArtifact||!r||t.isFetchingTemplate,"data-cy":"add_art_popup_btn","show-loader":t.isFetchingTemplate},on:{click:t.handleCreateArtifact}},[t._v("\n            Add\n          ")])],1)]}}],null,!1,4200093079)}):t._e()],1)])}),[],!1,null,null,null);e.default=x.exports;_()(x,{VCheckbox:w.a,VTab:A.a,VTabItem:I.a,VTabs:V.a})},1065:function(t,e,n){},1070:function(t,e,n){"use strict";n(1013)},1071:function(t,e,n){"use strict";n(1014)},1072:function(t,e,n){"use strict";n(1015)},1073:function(t,e,n){},1074:function(t,e,n){"use strict";n(1016)},1075:function(t,e,n){"use strict";n(1017)},1076:function(t,e,n){"use strict";n(1018)},1077:function(t,e,n){"use strict";n(1019)},1078:function(t,e,n){"use strict";n(1020)},1079:function(t,e,n){"use strict";n(1021)},1080:function(t,e,n){"use strict";n(1022)},1081:function(t,e,n){"use strict";n(1023)},1087:function(t,e,n){"use strict";n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"ViewMenu",data:()=>({isVisible:!1,viewMenuList:[{text:"Portrait",view:"portrait",icon:"persona-portrait"},{text:"Landscape",view:"landscape",icon:"persona-landscape"},{text:"All personas",view:"multi",icon:"persona-all"}]}),computed:l(l({},Object(o.c)("persona",["allPersonas","isLandscape"])),Object(o.e)("templateLocalState",["personasInLandscapeModeProjectIds"])),methods:l(l({},Object(o.d)("templateLocalState",["updateLanscapeModeForProject"])),{},{getActiveClass(t){const{artifactId:e}=this.$route.params;switch(t){case"portrait":return e&&!this.isLandscape;case"landscape":return e&&this.isLandscape;case"multi":return!e;default:return!1}},setViewMode(t){const e="landscape"===t,{artifactId:n,projectId:r,workspaceId:o}=this.$route.params,c=n||this.allPersonas[0].id;let l="/w/".concat(o,"/p/").concat(r,"/p");this.updateLanscapeModeForProject({projectId:r,isLandscapeMode:e}),"multi"!==t&&(l+="/".concat(c)),this.$router.push(l)}})},m=(n(1070),n(9)),h=n(20),f=n.n(h),v=n(300),y=n(953),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"artifact-view-container"},[n("div",{staticClass:"artifact-view-container--tooltip"}),t._v(" "),n("div",{staticClass:"artifact-view-container--menu"}),t._v(" "),n("v-menu",{attrs:{"offset-y":"",attach:".artifact-view-container--menu","min-width":150},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on;return[n("v-tooltip",{attrs:{bottom:"",attach:".artifact-view-container--tooltip"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("u-button",t._g({staticClass:"nav-actions__link menu-activator",class:{"menu-activator--active":t.isVisible},attrs:{flat:"",icon:"views"}},Object.assign({},r,menu)),[t._v("\n            View\n          ")])]}}],null,!0)},[t._v(" "),n("span",[t._v("Switch a View")])])]}}]),model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[t._v(" "),n("ul",{staticClass:"dropdown-menu"},t._l(t.viewMenuList,(function(e){return n("li",{key:e.view,staticClass:"dropdown-menu__item"},[n("span",{staticClass:"dropdown-menu__link",class:{"is-active":t.getActiveClass(e.view)},on:{click:function(n){return t.setViewMode(e.view)}}},[n("span",{staticClass:"dropdown-menu__icon"},[n("icon",{attrs:{name:e.icon,width:"24",height:"24"}})],1),t._v(" "),n("span",{staticClass:"dropdown-menu__text"},[t._v(t._s(e.text))])])])})),0)])],1)}),[],!1,null,"66319bb2",null);e.a=component.exports;f()(component,{VMenu:v.a,VTooltip:y.a})},1088:function(t,e,n){"use strict";n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"FoldersMenu",props:{type:{type:String,default:"project"}},computed:l(l(l(l(l(l({},Object(o.c)("auth",["userId"])),Object(o.e)("projects",["projects"])),Object(o.c)("projects",["actionableProjectsIds","actionableProjects","privateProjectsIds"])),Object(o.c)("folders",["foldersList"])),Object(o.e)("ui",["foldersMenu"])),{},{isVisible:{get(){return this.foldersMenu.isVisible},set(t){t||this.closeFoldersMenu()}},filteredFoldersList(){const t=1===this.actionableProjects.length?this.actionableProjects[0].folder:"";return this.foldersList.filter((e=>{let{id:n}=e;return n!==t}))},isRemoveFromFolderButtonVisible(){return this.actionableProjects.some((t=>t.folder||t.isSecured))},isPrivateFolderButtonVisible(){return this.actionableProjects.some((p=>!p.isSecured))&&!this.actionableProjects.some((p=>p.owner.id!==this.userId))}}),methods:l(l(l(l({},Object(o.d)("folders",["setNewFolderId"])),Object(o.d)("ui",["closeFoldersMenu"])),Object(o.b)("projects",["changeFolder"])),{},{openPrivatizationDialog(){this.$openDialog({title:"Move to the private folder?",component:()=>n.e(166).then(n.bind(null,3488))})},handleChangeFolder(t){let{folderId:e}=t;this.setNewFolderId({folderId:e}),this.actionableProjectsIds.some((t=>this.privateProjectsIds.includes(t)))?this.$openDialog({title:"share with others?",component:()=>n.e(165).then(n.bind(null,3489))}):this.changeFolder()}})},m=(n(1075),n(9)),h=n(20),f=n.n(h),v=n(323),y=n(161),_=n(321),w=n(145),j=n(300),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"z-index":"250",absolute:"","position-x":t.foldersMenu.position.x,"position-y":t.foldersMenu.position.y,bottom:"","max-width":"420"},model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[n("v-list",{staticClass:"dashboard-list"},[n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.isRemoveFromFolderButtonVisible,expression:"isRemoveFromFolderButtonVisible"}],staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(e){return t.handleChangeFolder({folderId:null})}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"delete-thin",width:"10",height:"10"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Remove from folder")])],1)],1),t._v(" "),n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.isPrivateFolderButtonVisible,expression:"isPrivateFolderButtonVisible"}],staticClass:"dashboard-list-tile dashboard-list-element",on:{click:t.openPrivatizationDialog}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"square-lock",width:"12",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Private projects")])],1)],1),t._v(" "),t._l(t.filteredFoldersList,(function(e){return n("v-list-item",{key:e.id,staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(n){return t.handleChangeFolder({folderId:e.id,name:e.name})}}},[n("v-list-item-action",{staticClass:"dashboard-list-action folder-menu-item__action"},[n("div",{staticClass:"folder-color",style:{background:e.color}})]),t._v(" "),n("v-list-item-content",{staticClass:"folder-menu-item__content"},[n("v-list-item-title",[t._v(t._s(e.name))])],1)],1)}))],2)],1)}),[],!1,null,null,null);e.a=component.exports;f()(component,{VList:v.a,VListItem:y.a,VListItemAction:_.a,VListItemContent:w.a,VListItemTitle:w.b,VMenu:j.a})},1089:function(t,e,n){"use strict";n(10);var r=n(3),o=(n(34),n(11));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"VersionsMenu",data:()=>({copied:!1}),computed:l(l(l(l({},Object(o.e)("ui",["versionMenu"])),Object(o.c)("versions",["lastVersionNumber"])),Object(o.c)("artifacts",["currentArtifact"])),{},{isVisible:{get(){return this.versionMenu.isVisible},set(t){t||this.closeVersionMenu()}},isRestoreAvailable(){return this.versionMenu.version&&this.versionMenu.version.v!==this.lastVersionNumber&&0!==this.versionMenu.version.v}}),methods:l(l(l({},Object(o.d)("ui",["closeVersionMenu","setError","setSuccess"])),Object(o.b)("ui",["openCopyArtifactDialog"])),{},{handleCopyButtonClick(){const{version:t}=this.versionMenu;this.openCopyArtifactDialog({version:t,title:"Copy version"}),this.$tracker.trackHistoryCopy({artifactType:this.currentArtifact.type,version:t.v,name:t.name})},handleRestoreButtonClick(){this.$openDialog({component:()=>n.e(39).then(n.bind(null,1340)),title:"Restore this version?",version:this.versionMenu.version},"version-restore-dialog")},async handleCopyLinkButtonClick(){const{page:t}=this.$route.query,{v:e,name:n}=this.versionMenu.version;let r=window.location.href.split("?")[0];r+="?isVersionMode=true&version=".concat(e),t&&(r+="&page=".concat(t));try{await this.$copyText(r),this.$tracker.trackHistoryCopyLink({artifactType:this.currentArtifact.type,version:e,name:n}),this.setSuccess({text:"Link copied"})}catch(t){this.setError({error:"Failed to copy"})}}})},m=(n(1080),n(9)),h=n(20),f=n.n(h),v=n(323),y=n(161),_=n(321),w=n(145),j=n(300),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{absolute:"","offset-y":"",attach:"."+t.versionMenu.attach,"allow-overflow":!0},on:{input:t.closeVersionMenu},model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[n("v-list",{staticClass:"dashboard-list"},[t.isRestoreAvailable?n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(e){return e.stopPropagation(),t.handleRestoreButtonClick.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"restore",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n          Restore\n        ")])],1)],1):t._e(),t._v(" "),n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(e){return e.stopPropagation(),t.handleCopyButtonClick.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"copy-blank",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n          Copy\n        ")])],1)],1),t._v(" "),n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(e){return e.stopPropagation(),t.handleCopyLinkButtonClick.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"link",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n          Copy link\n        ")])],1)],1)],1)],1)}),[],!1,null,"a30328f0",null);e.a=component.exports;f()(component,{VList:v.a,VListItem:y.a,VListItemAction:_.a,VListItemContent:w.a,VListItemTitle:w.b,VMenu:j.a})},1090:function(t,e,n){"use strict";var r=n(997).a,o=(n(1081),n(9)),c=n(20),l=n.n(c),d=n(300),m=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-actions"},[t.isVersionMode?[n("u-button",{staticClass:"nav-actions__link",attrs:{"data-cy":"toplink_version_exit",flat:"",icon:"arrow-back","icon-size":16},nativeOn:{click:function(e){return e.stopPropagation(),t.exitVersionMode.apply(null,arguments)}}},[t._v("\n      Edit current version\n    ")]),t._v(" "),null!==t.versionNumber&&0!==t.versionNumber&&t.versionNumber!==t.lastVersionNumber?n("u-button",{staticClass:"nav-actions__link",style:{"--button-height":"30px"},attrs:{"data-cy":"toplink_version_restore"},on:{click:t.openRestoreVersionDialog}},[t._v("\n      Restore this version\n    ")]):t._e(),t._v(" "),n("versions-menu")]:[t.availableActions.includes("undo")?n("u-tooltip",{attrs:{disabled:0===t.undoStack.length,"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("u-button",{ref:"undoBtn",staticClass:"nav-actions__link",attrs:{"data-cy":"toplink_undo",flat:"",icon:"undo","icon-size":20,disabled:0===t.undoStack.length},nativeOn:{click:function(e){return e.stopPropagation(),t.undo.apply(null,arguments)}}},[t._v("\n          Undo\n        ")])]},proxy:!0}],null,!1,1827351685)},[t._v(" "),n("span",[t._v(t._s("Undo ("+t.undoStack.length+")"))])]):t._e(),t._v(" "),t.availableActions.includes("redo")?n("u-tooltip",{attrs:{disabled:0===t.redoStack.length,"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("u-button",{ref:"redoBtn",staticClass:"nav-actions__link",attrs:{"data-cy":"toplink_redo",flat:"",icon:"redo","icon-size":20,disabled:0===t.redoStack.length},nativeOn:{click:function(e){return e.stopPropagation(),t.redo.apply(null,arguments)}}},[t._v("\n          Redo\n        ")])]},proxy:!0}],null,!1,1292269189)},[t._v(" "),n("span",[t._v(t._s("Redo ("+t.redoStack.length+")"))])]):t._e(),t._v(" "),t.availableActions.includes("add-project")?n("permission-control",{attrs:{action:"create",model:"Project",instance:{workspace:t.currentWorkspaceId,owner:t.userId}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.permission,c=e.isReadonly;return[n("permission-control-tooltip",{attrs:{"is-disabled":r,permission:o}},[c?t._e():n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!r,"data-cy":"add_project_btn",flat:"",icon:"add","icon-size":20},on:{click:function(e){return e.stopPropagation(),t.createProject.apply(null,arguments)}}},[t._v("\n            Add project\n          ")])],1)]}}],null,!1,438660893)}):t._e(),t._v(" "),t.availableActions.includes("invite-user")&&t.currentUserMembership?n("permission-control",{attrs:{action:"inviteMembers",model:"WorkspaceMembership",instance:t.currentUserMembership},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isAdmin,o=e.isPermission,c=e.permission,l=e.isReadonly;return[n("permission-control-tooltip",{attrs:{"is-admin":r,"is-disabled":o&&r,permission:c}},[l?t._e():n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!o||!r,icon:"invite",flat:"","icon-size":20},on:{click:function(e){return e.stopPropagation(),t.inviteMember.apply(null,arguments)}}},[t._v("\n            Invite user\n          ")])],1)]}}],null,!1,1339532015)}):t._e(),t._v(" "),t.isAuthenticated&&t.currentProject&&t.availableActions.includes("copy-artifact-and-open")&&!t.isMoreDropdownVisible?n("permission-control",{attrs:{action:"copy",model:"Artifact",instance:{type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c,"default-text":"Copy "+t.artifactTypeName}},[n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"copy-blank","icon-size":20,"data-cy":"toplink_copy",disabled:!r&&!o||t.isCopyingInProgress},on:{click:function(e){return e.stopPropagation(),t.handleCopyButtonClick(r,o)}}},[t._v("\n            Copy\n          ")])],1)]}}],null,!1,1269983950)}):t._e(),t._v(" "),t.isShareButtonVisible?n("u-tooltip",{attrs:{"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("permission-control",{attrs:{action:"share",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"share","icon-size":20},on:{click:t.openShareProjectDialog}},[t._v("\n              Share\n            ")])]}}],null,!1,1092051290)})]},proxy:!0}],null,!1,942294570)},[t._v(" "),n("span",[t._v("Share project")])]):t._e(),t._v(" "),t.isAuthenticated&&t.availableActions.includes("copy-project")?n("permission-control",{attrs:{action:"copy",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c,"default-text":"Copy project"}},[n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!r&&!o||t.isCopyingInProgress,flat:"",icon:"copy-blank","icon-size":20,"data-cy":"toplink_copy_project"},nativeOn:{click:function(e){return e.stopPropagation(),t.onCopyButtonClick(r)}}},[t._v("\n            Copy\n          ")])],1)]}}],null,!1,2649443105)}):t._e(),t._v(" "),t.availableActions.includes("present")&&!t.isEmptyProject?n("permission-control",{attrs:{action:"present",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-disabled":r||o,permission:c,"default-text":"Present"}},[n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!r&&!o,flat:"",icon:"presentation","icon-size":20,"data-cy":"toplink_present","icon-class":"present-icon-wrapper"},nativeOn:{click:function(e){e.stopPropagation(),r?t.present():t.openProFeatureOverviewDialog({feature:"presentation"})}}},[t._v("\n            Present\n          ")])],1)]}}],null,!1,131181142)}):t._e(),t._v(" "),t.isFolderButtonVisible?n("u-tooltip",{staticClass:"nav-actions__btn-folder",attrs:{"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("permission-control",{attrs:{action:"update",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("u-button",{ref:"foldersButton",staticClass:"nav-actions__link menu-activator",class:{"menu-activator--active":t.foldersMenu.isVisible},attrs:{flat:"",icon:"folder","icon-size":20},on:{click:t.onFoldersButtonClick}},[t._v("\n              Folder\n            ")])]}}],null,!1,1737438034)})]},proxy:!0}],null,!1,966196145)},[t._v(" "),n("span",[t._v("Change project folder")])]):t._e(),t._v(" "),t.isMoveProjectButtonVisible?n("permission-control",{attrs:{action:"move",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isCan,o=e.isPermission,c=e.permission,l=e.isReadonly;return[n("permission-control-tooltip",{attrs:{"default-text":"Move project to a different workspace",permission:c,"is-disabled":!0}},[r&&o&&!l?n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"move","icon-size":20},on:{click:t.openMoveProjectDialog}},[t._v("\n            Move\n          ")]):t._e()],1)]}}],null,!1,2237598858)}):t._e(),t._v(" "),n("u-tooltip",{attrs:{"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[t.availableActions.includes("fullscreen")&&!t.isMoreDropdownVisible?n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"fullscreen-enter","icon-size":20,"data-cy":"toplink_fullscr"},nativeOn:{click:function(e){return e.stopPropagation(),t.enterFullscreenMode.apply(null,arguments)}}},[t._v("\n          Fullscreen\n        ")]):t._e()]},proxy:!0}])},[t._v(" "),n("span",[t._v("Fullscreen")])]),t._v(" "),t.availableActions.includes("export")?n("u-tooltip",{attrs:{"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("permission-control",{attrs:{action:"export",model:"Project",instance:t.currentProject}},[n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"icon_export","data-cy":"toplink_export","icon-size":20},on:{click:t.openExportDialog}},[t._v("\n            Export\n          ")])],1)]},proxy:!0}],null,!1,1542708383)},[t._v(" "),n("span",[t._v("Export "+t._s(t.artifactTypeName))])]):t._e(),t._v(" "),t.availableActions.includes("view-all-personas")?n("permission-control",{attrs:{action:"multipleView",model:"Artifact",instance:{project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{staticClass:"nav-actions__btn",attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[r?n("view-menu"):n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on;return[n("u-button",t._g({staticClass:"nav-actions__link",attrs:{flat:"",icon:"views","icon-size":20,"data-cy":"toplink_view",disabled:!r&&!o},on:{click:function(e){return e.stopPropagation(),t.handlePersonaViewButtonClick(r,o)}}},c),[t._v("\n                View\n              ")])]}}],null,!0)},[t._v(" "),n("span",[t._v("Switch a View")])])],1)]}}],null,!1,1405649545)}):t._e(),t._v(" "),t.isCommentButtonVisible?n("u-tooltip",{attrs:{"max-width":t.maxTooltipsWidth,bottom:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(){return[t.isCommentButtonVisible?n("u-button",{class:t.commentsButtonClass,attrs:{"data-cy":"toplink_cmnts",flat:"",icon:t.commentButtonIcon,"icon-size":20},on:{click:t.toggleCommentMode}},[t._v("\n          "+t._s(t.commentButtonText)+"\n        ")]):t._e()]},proxy:!0}],null,!1,2918289324)},[t._v(" "),n("span",[t._v(t._s(t.commentButtonTooltip))])]):t._e(),t._v(" "),t.isImpactViewButtonVisible?n("impact-view-menu"):t._e(),t._v(" "),t.isProjectViewButtonVisible?n("project-view-menu"):t._e(),t._v(" "),t.availableActions.includes("artifact-views")?n("permission-control",{attrs:{action:"update",model:"Artifact",instance:{id:t.currentArtifactId,type:"cjm",project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isReadonly;return[!r||r&&t.viewsList.length?n("div",{staticClass:"artifact-views"},[n("artifact-views",{attrs:{disabled:r}})],1):t._e()]}}],null,!1,4199459731)}):t._e(),t._v(" "),t.availableActions.includes("leave-shared-project")?n("permission-control",{attrs:{action:"leave",model:"Project",instance:t.currentProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.permission;return[n("permission-control-tooltip",{attrs:{"default-text":"Leave project",permission:o,"is-disabled":!0}},[r?n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"leave","icon-size":20},nativeOn:{click:function(e){return e.stopPropagation(),t.leaveSharedProject.apply(null,arguments)}}},[t._v("\n            Leave project\n          ")]):t._e()],1)]}}],null,!1,1230531545)}):t._e(),t._v(" "),t.isFontSettingsButtonVisible&&!t.isMoreDropdownVisible?n("permission-control",{attrs:{action:"update",model:"Artifact",instance:{id:t.currentArtifactId,type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isReadonly;return[n("permission-control-tooltip",{attrs:{"is-disabled":!0,"default-text":"Change default font & color"}},[r?t._e():n("u-button",{staticClass:"nav-actions__link",attrs:{"data-cy":"toplink_font_settings",flat:"",icon:"fonts","icon-size":20},on:{click:t.handleFontSettingsButtonClick}},[t._v("\n            Font\n          ")])],1)]}}],null,!1,4261720195)}):t._e(),t._v(" "),t.historyEnabled&&t.availableActions.includes("versions")&&!t.isMoreDropdownVisible?n("permission-control",{attrs:{action:"manageVersion",model:"Artifact",instance:{id:t.currentArtifactId,type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.permission,c=e.isCan,l=e.isAdmin;return[n("permission-control-tooltip",{attrs:{"is-disabled":r,permission:o,"is-admin":l,"default-text":"Version history"}},[c?n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!r,flat:"",icon:"version-history","icon-size":20,"data-cy":"toplink_versions"},nativeOn:{click:function(e){return e.stopPropagation(),t.toggleVersionMode.apply(null,arguments)}}},[t._v("\n            History\n          ")]):t._e()],1)]}}],null,!1,3533048803)}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.isMoreDropdownVisible&&t.isPageHaveMoreDropdown?n("v-menu",{attrs:{"offset-y":"",attach:!0},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("div",{staticClass:"v-menu__activator",class:{"v-menu__activator--active":t.isMoreMenuVisible}},[n("u-button",t._g({staticClass:"nav-actions__link",attrs:{flat:"","data-cy":"toplink_more"}},r),[t._v("\n            More\n          ")])],1),t._v(" "),n("div",{staticClass:"project-views"})]}}],null,!1,581799702),model:{value:t.isMoreMenuVisible,callback:function(e){t.isMoreMenuVisible=e},expression:"isMoreMenuVisible"}},[t._v(" "),n("ul",{staticClass:"dropdown-menu"},[n("li",{staticClass:"dropdown-menu__item dropdown-menu__item--button"},[t.availableActions.includes("fullscreen")?n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"fullscreen-enter","icon-size":20,"data-cy":"toplink_fullscr"},nativeOn:{click:function(e){return e.stopPropagation(),t.enterFullscreenMode.apply(null,arguments)}}},[t._v("\n            Fullscreen\n          ")]):t._e(),t._v(" "),t.isAuthenticated&&t.currentProject&&t.availableActions.includes("copy-artifact-and-open")?n("permission-control",{attrs:{action:"copy",model:"Artifact",instance:{type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[n("u-button",{staticClass:"nav-actions__link",attrs:{flat:"",icon:"copy-blank","icon-size":20,"data-cy":"toplink_copy",disabled:!r&&!o||t.isCopyingInProgress},on:{click:function(e){return e.stopPropagation(),t.handleCopyButtonClick(r,o)}}},[t._v("\n                  Copy\n                ")])],1)]}}],null,!1,1134881125)}):t._e(),t._v(" "),t.isFontSettingsButtonVisible?n("permission-control",{attrs:{action:"update",model:"Artifact",instance:{id:t.currentArtifactId,type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isReadonly;return[n("permission-control-tooltip",{attrs:{"is-disabled":!0}},[r?t._e():n("u-button",{staticClass:"nav-actions__link",attrs:{"data-cy":"toplink_font_settings",flat:"",icon:"fonts","icon-size":20},on:{click:t.handleFontSettingsButtonClick}},[t._v("\n                  Font\n                ")])],1)]}}],null,!1,2020152075)}):t._e(),t._v(" "),t.historyEnabled&&t.availableActions.includes("versions")?n("permission-control",{attrs:{action:"manageVersion",model:"Artifact",instance:{id:t.currentArtifactId,type:t.artifactType,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.permission,c=e.isCan,l=e.isAdmin;return[n("permission-control-tooltip",{attrs:{"is-disabled":r,permission:o,"is-admin":l}},[c?n("u-button",{staticClass:"nav-actions__link",attrs:{disabled:!r,flat:"",icon:"version-history","icon-size":20,"data-cy":"toplink_versions_more"},nativeOn:{click:function(e){return e.stopPropagation(),t.toggleVersionMode.apply(null,arguments)}}},[t._v("\n                  History\n                ")]):t._e()],1)]}}],null,!1,1516478428)}):t._e()],1)])]):t._e(),t._v(" "),n("folders-menu"),t._v(" "),n("project-menu"),t._v(" "),n("artifact-menu"),t._v(" "),n("image-upload-menu")]],2)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VMenu:d.a,VTooltip:m.a})},1092:function(t,e,n){"use strict";var r=n(998).a,o=(n(1074),n(9)),c=n(20),l=n.n(c),d=n(300),m=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"artifact-view-container"},[n("div",{staticClass:"artifact-view-container--tooltip"}),t._v(" "),n("div",{staticClass:"artifact-view-container--menu"}),t._v(" "),n("v-menu",{attrs:{"offset-y":"",disabled:t.disabled&&!t.viewsList.length,attach:".artifact-view-container--menu"},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on;return[n("v-tooltip",{attrs:{"max-width":"160",persistent:"",attach:".artifact-view-container--tooltip"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("div",{staticClass:"v-menu__activator",class:{"v-menu__activator--active":t.isVisible}},[n("u-button",t._g({staticClass:"nav-actions__link nav-actions__link--artifact-views",attrs:{flat:"",icon:"views","data-cy":"toplink_view",attach:".artifact-view-container"}},Object.assign({},r,menu)),[t._v("\n              "+t._s(t.currentViewName)+"\n            ")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Switch a View")])])]}}]),model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[t._v(" "),n("ul",{staticClass:"dropdown-menu",class:{"dropdown-menu--scrollable":t.viewsList.length>4}},[t.disabled?t._e():n("li",{staticClass:"dropdown-menu__item dropdown-menu__item--button"},[n("u-button",{staticClass:"dropdown-menu__button",attrs:{flat:"",icon:"add","icon-size":8},on:{click:t.addViewSettings}},[t._v("\n          Add view\n        ")])],1),t._v(" "),n("li",{staticClass:"dropdown-menu__item"},[n("span",{staticClass:"dropdown-menu__link",class:{"is-active":!t.currentViewId},on:{click:function(e){return t.switchView({oldViewId:t.currentViewId})}}},[n("span",{staticClass:"dropdown-menu__text"},[t._v("Default view")])])]),t._v(" "),t._l(t.viewsList,(function(view){return n("li",{key:view.id,staticClass:"dropdown-menu__item"},[n("span",{staticClass:"dropdown-menu__link dropdown-menu__link--space-between",class:{"is-active":t.currentViewId===view.id},on:{click:function(e){return t.switchView({viewId:view.id,oldViewId:t.currentViewId})}}},[n("span",{staticClass:"dropdown-menu__text"},[t._v(t._s(view.settings.name))]),t._v(" "),t.disabled?t._e():n("div",{staticClass:"dropdown-menu__controls"},[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("u-btn",t._g({staticClass:"artifact-views-settings",attrs:{"icon-size":"16",icon:"settings"},nativeOn:{click:function(e){return e.stopPropagation(),t.editViewSettings(view.id)}}},r))]}}],null,!0)},[t._v(" "),n("span",[t._v("Configure view")])]),t._v(" "),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("u-btn",t._g({staticClass:"artifact-views-copy",attrs:{"icon-size":"16",icon:"copy-blank"},nativeOn:{click:function(e){return e.stopPropagation(),t.copyViewSettings(view.id)}}},r))]}}],null,!0)},[t._v(" "),n("span",[t._v("Copy view")])]),t._v(" "),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("u-btn",t._g({staticClass:"artifact-views-remove",attrs:{"icon-size":"16",icon:"delete"},nativeOn:{click:function(e){return e.stopPropagation(),t.openDeleteViewDialog(view.id)}}},r))]}}],null,!0)},[t._v(" "),n("span",[t._v("Delete view")])])],1)])])}))],2)])],1)}),[],!1,null,"15d6260b",null);e.a=component.exports;l()(component,{VMenu:d.a,VTooltip:m.a})},1093:function(t,e,n){"use strict";var r=n(999).a,o=(n(1076),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(321),f=n(145),v=n(300),y=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"impact-view-container"},[n("div",{staticClass:"impact-view-container--tooltip"}),t._v(" "),n("div",{staticClass:"impact-view-container--menu"}),t._v(" "),n("v-menu",{attrs:{bottom:"","nudge-bottom":"40px","min-width":150,attach:".impact-view-container--menu"},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on,r=e.attrs;return[n("v-tooltip",{attrs:{attach:".impact-view-container--tooltip"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("div",{staticClass:"v-menu__activator",class:{"v-menu__activator--active":t.isImpactMapViewVisible}},[n("u-button",t._g(t._b({staticClass:"nav-actions__link",attrs:{flat:"",icon:"views","icon-size":20}},"u-button",r,!1),Object.assign({},o,menu)),[t._v("\n              VIEW\n            ")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Switch a View")])])]}}]),model:{value:t.isImpactMapViewVisible,callback:function(e){t.isImpactMapViewVisible=e},expression:"isImpactMapViewVisible"}},[t._v(" "),n("v-list",{staticClass:"impact-vew-menu"},[n("v-list-item",{staticClass:"impact-view-menu__item",class:{"mod-selected":"backlog"!==t.currentImpactMapConfig.viewType},on:{click:function(e){return t.changeImpactViewType("impact-map")}}},[n("v-list-item-action",[n("icon",{attrs:{name:"im-im-type",width:"24",height:"16"}})],1),t._v(" "),n("v-list-item-content",[t._v("\n          Impact Map\n        ")])],1),t._v(" "),n("v-list-item",{staticClass:"impact-view-menu__item",class:{"mod-selected":"backlog"===t.currentImpactMapConfig.viewType},on:{click:function(e){return t.changeImpactViewType("backlog")}}},[n("v-list-item-action",[n("icon",{attrs:{name:"im-backlog-type",width:"24",height:"16"}})],1),t._v(" "),n("v-list-item-content",{staticClass:"impact-view-menu__item-content"},[t._v("\n          Backlog\n        ")])],1)],1)],1)],1)}),[],!1,null,"48ee7cf6",null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAction:h.a,VListItemContent:f.a,VMenu:v.a,VTooltip:y.a})},1094:function(t,e,n){"use strict";var r=n(1e3).a,o=(n(1077),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(321),f=n(145),v=n(300),y=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-view-container"},[n("div",{staticClass:"project-view-container--tooltip"}),t._v(" "),n("div",{staticClass:"project-view-container--menu"}),t._v(" "),n("v-menu",{attrs:{bottom:"","nudge-bottom":"40px","min-width":150,attach:".project-view-container--menu"},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on,r=e.attrs;return[n("v-tooltip",{attrs:{attach:".project-view-container--tooltip"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("div",{staticClass:"v-menu__activator",class:{"v-menu__activator--active":t.isProjectViewVisible}},[n("u-button",t._g(t._b({staticClass:"nav-actions__link nav-actions__link--project-views",attrs:{flat:"",icon:"views","icon-size":20}},"u-button",r,!1),Object.assign({},o,menu)),[t._v("\n              VIEW\n            ")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Switch a View")])])]}}]),model:{value:t.isProjectViewVisible,callback:function(e){t.isProjectViewVisible=e},expression:"isProjectViewVisible"}},[t._v(" "),n("v-list",{staticClass:"impact-vew-menu"},[n("v-list-item",{staticClass:"project-view-menu__item",class:{"mod-selected":"connections"!==t.currentProjectView},on:{click:function(e){return t.changeProjectViewType("table")}}},[n("v-list-item-action",[n("icon",{attrs:{name:"artifact-table-view",width:"24",height:"16"}})],1),t._v(" "),n("v-list-item-content",[t._v("\n          Table\n        ")])],1),t._v(" "),n("v-list-item",{staticClass:"project-view-menu__item",class:{"mod-selected":"connections"===t.currentProjectView},on:{click:function(e){return t.changeProjectViewType("connections")}}},[n("v-list-item-action",[n("icon",{attrs:{name:"artifact-connectors-view",width:"24",height:"16"}})],1),t._v(" "),n("v-list-item-content",{staticClass:"project-view-menu__item-content"},[t._v("\n          Connections\n        ")])],1)],1)],1)],1)}),[],!1,null,"4b21aae1",null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAction:h.a,VListItemContent:f.a,VMenu:v.a,VTooltip:y.a})},1095:function(t,e,n){"use strict";var r=n(1001).a,o=(n(1078),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(321),f=n(145),v=n(300),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{absolute:"",bottom:"","offset-y":"","position-x":t.projectMenu.position.x,"position-y":t.projectMenu.position.y},on:{input:t.closeProjectMenu},model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[t.projectMenu.isSharedProject?n("v-list",{staticClass:"dashboard-list"},[n("div",{staticClass:"dashboard-list-element dashboard-list-element--hide"},[t.menuProject?n("permission-control",{attrs:{action:"copy",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[n("v-list-item",{staticClass:"dashboard-list-tile",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.handleCopyButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"copy-blank",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                  Copy\n                ")])],1)],1)],1)]}}],null,!1,845511512)}):t._e()],1),t._v(" "),t.isPresentButtonVisible&&t.menuProject?n("permission-control",{staticClass:"dashboard-list-element",attrs:{action:"present",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-disabled":r||o,permission:c}},[n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.handlePresentButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"present-icon-wrapper",attrs:{name:"presentation",width:"20",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                Present\n              ")])],1)],1)],1)]}}],null,!1,2114290969)}):t._e(),t._v(" "),n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:t.leaveProjects}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"svg-icon",attrs:{name:"leave",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n          Leave\n        ")])],1)],1),t._v(" "),t.menuProject?n("permission-control",{attrs:{action:"softDelete",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:t.deleteProjects}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"svg-icon",attrs:{name:"trash",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              Delete\n            ")])],1)],1)]}}],null,!1,1128463648)}):t._e()],1):n("v-list",{staticClass:"dashboard-list"},[t.menuProject?n("permission-control",{attrs:{action:"share",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element dashboard-list-element--hide",on:{click:function(e){return e.stopPropagation(),t.openShareProjectDialog.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"share",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              Share\n            ")])],1)],1)]}}],null,!1,3146106603)}):t._e(),t._v(" "),t.menuProject?n("permission-control",{attrs:{action:"copy",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element dashboard-list-element--hide",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.handleCopyButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"copy-blank",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                Copy\n              ")])],1)],1)],1)]}}],null,!1,2932955640)}):t._e(),t._v(" "),t.menuProject?n("permission-control",{attrs:{action:"present",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-disabled":r||o,permission:c}},[t.isPresentButtonVisible?n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",class:{"dashboard-list-tile--disabled":!r&&!o,"dashboard-list-element--hide":!t.isPresentButtonVisible},on:{click:function(e){return t.handlePresentButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"present-icon-wrapper",attrs:{name:"presentation",width:"20",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                Present\n              ")])],1)],1):t._e()],1)]}}],null,!1,2288097773)}):t._e(),t._v(" "),t.contributorInWorkspacesIds.length>1&&t.menuProject?n("permission-control",{attrs:{action:"move",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:function(e){return e.stopPropagation(),t.openMoveProjectDialog.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"move",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              Move\n            ")])],1)],1)]}}],null,!1,3816645839)}):t._e(),t._v(" "),t.menuProject?n("permission-control",{attrs:{action:"softDelete",model:"Project",instance:t.menuProject},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:t.deleteProjects}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"trash",width:"18",height:"18"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              Delete\n            ")])],1)],1)]}}],null,!1,1124369892)}):t._e()],1)],1)}),[],!1,null,"4fdf8dfa",null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAction:h.a,VListItemContent:f.a,VListItemTitle:f.b,VMenu:v.a})},1096:function(t,e,n){"use strict";var r=n(1002).a,o=n(9),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(321),f=n(145),v=n(300),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.firstActionableArtifact?n("v-menu",{attrs:{"position-x":t.artifactMenu.position.x,"position-y":t.artifactMenu.position.y,absolute:"",bottom:"","offset-y":"","max-width":"120px"},model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[n("v-list",{staticClass:"dashboard-list"},[t.isAuthenticated&&"connections"===t.artifactMenu.viewType?n("permission-control",{staticClass:"dashboard-list-element",attrs:{action:"copy",model:"Artifact",instance:t.firstActionableArtifact},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[t.isAuthenticated?n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.onCopyButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"copy-icon-wrapper",attrs:{name:"copy-blank",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Copy")])],1)],1)],1):t._e()]}}],null,!1,1317653716)}):t._e(),t._v(" "),n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",on:{click:t.openExportDialog}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"icon_export",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Export")])],1)],1),t._v(" "),n("permission-control",{attrs:{action:"present",model:"Artifact",instance:t.firstActionableArtifact},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r||o,permission:c}},[n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.onPresentButtonClick(r,o)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"present-icon-wrapper",attrs:{name:"presentation",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Present")])],1)],1)],1)]}}],null,!1,1642307266)}),t._v(" "),t.historyEnabled?n("permission-control",{attrs:{action:"manageVersion",model:"Artifact",instance:t.firstActionableArtifact},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isAdmin,c=e.permission,l=e.isCan;return[n("permission-control-tooltip",{attrs:{"is-admin":o,"is-disabled":r,permission:c}},[l?n("v-list-item",{staticClass:"dashboard-list-tile dashboard-list-element",class:{"dashboard-list-tile--disabled":!r&&!o},on:{click:function(e){return e.stopPropagation(),t.onVersionButtonClick(r)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{staticClass:"present-icon-wrapper",attrs:{name:"version-history",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("History")])],1)],1):t._e()],1)]}}],null,!1,3641429866)}):t._e(),t._v(" "),t.isAuthenticated?n("permission-control",{staticClass:"dashboard-list-element",attrs:{action:"move",model:"Artifact",instance:t.firstActionableArtifact},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isReadonly,o=e.isCan;return[!r&&o?n("v-list-item",{staticClass:"dashboard-list-tile",on:{click:function(e){return e.stopPropagation(),t.openMoveArtifactDialog.apply(null,arguments)}}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"move",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Move")])],1)],1):t._e()]}}],null,!1,1829797822)}):t._e(),t._v(" "),t.isAuthenticated?n("permission-control",{staticClass:"dashboard-list-element",attrs:{action:"softDelete",model:"Artifact",instance:t.firstActionableArtifact},scopedSlots:t._u([{key:"default",fn:function(e){return[e.isReadonly?t._e():n("v-list-item",{staticClass:"dashboard-list-tile",on:{click:t.deleteArtifacts}},[n("v-list-item-action",{staticClass:"dashboard-list-action"},[n("icon",{attrs:{name:"trash",width:"18",height:"16"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Delete")])],1)],1)]}}],null,!1,928313305)}):t._e()],1)],1):t._e()}),[],!1,null,null,null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAction:h.a,VListItemContent:f.a,VListItemTitle:f.b,VMenu:v.a})},1097:function(t,e,n){"use strict";var r=n(1003).a,o=(n(1079),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(300),h=n(3463),f=n(1254),v=n(3552),y=n(2841),_=n(2842),w=n(110),j=n(174),O=n.n(j),P=n(74),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{handler:t.onClickOutside,closeConditional:t.closeConditional,include:t.include},expression:"{\n    handler: onClickOutside,\n    closeConditional,\n    include: include,\n  }"}],attrs:{"offset-y":"",absolute:"",bottom:"","min-width":330,"close-on-click":!1,"close-on-content-click":!1,"position-x":t.imageUploadMenu.position.x,"position-y":t.imageUploadMenu.position.y,value:t.imageUploadMenu.isVisible,"content-class":"image-uploader"}},[t.uploading?n("div",{staticClass:"image-uploader__progress-wrapper"},[n("div",{staticClass:"image-uploader__progress-body"},[n("div",{class:["image-uploader__progress-icon",t.uploadProgressInfo.icon]}),t._v(" "),n("div",{staticClass:"image-uploader__progress-content"},[n("span",{directives:[{name:"uhtml",rawName:"v-uhtml",value:t.uploadProgressInfo.text,expression:"uploadProgressInfo.text"}],staticClass:"image-uploader__progress-text"}),t._v(" "),n("div",{staticClass:"image-uploader__progress-img-wrap"},[n("div",{staticClass:"image-uploader__progress-img",style:{width:t.uploadProgressInfo.value}})]),t._v(" "),n("span",{directives:[{name:"uhtml",rawName:"v-uhtml",value:t.uploadProgressInfo.size,expression:"uploadProgressInfo.size"}],staticClass:"image-uploader__progress-size"})]),t._v(" "),n("div",{staticClass:"image-uploader__progress-value"},[t._v("\n        "+t._s(t.uploadProgressInfo.value)+"\n      ")])]),t._v(" "),n("div",{staticClass:"image-uploader__progress-action"},[n("u-button",{staticClass:"cancel-upload",attrs:{cancel:""},nativeOn:{click:function(e){return t.cancelUpload.apply(null,arguments)}}},[t._v("\n        Cancel\n      ")])],1)]):t._e(),t._v(" "),n("v-list",[n("v-tabs",{attrs:{"hide-slider":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"yellow"}}),t._v(" "),t._l(t.items,(function(t){return n("v-tab",{key:t},[n("icon",{attrs:{name:t,width:"24",height:"24"}})],1)})),t._v(" "),n("permission-control",{attrs:{model:"Artifact",action:"imageLibrary",instance:{workspace:t.currentWorkspaceId,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isAdmin,o=e.isPermission,c=e.permission;return[n("permission-control-tooltip",{attrs:{"is-admin":r,"is-disabled":o,permission:c}},[n("div",{staticClass:"v-tab",on:{click:function(e){return t.openImageLibraryDialog(o)}}},[n("icon",{attrs:{name:"uploads/images_folder",width:"24",height:"24",color:o?"#44484F":"#99A4B0"}})],1)])]}}])})],2),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("u-spinner",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),n("v-tab-item",[n("u-file-uploader",{ref:"uploader",attrs:{id:"dropzone-"+t.imageUploadMenu.context,"with-dropzone":!1,"allowed-file-types":".jpg,.jpeg,.png,.svg,.gif","upload-function":t.uploadFile,"show-progress":!1,"max-number-of-files":10,"activation-element-selector":!t.disabled&&"#upload-activator-"+t.imageUploadMenu.context,disabled:t.disabled},on:{"upload:added":t.onStartUpload,"upload:progress":t.showUploadingProgress,"upload:success":t.onUploadSuccess,"upload:completed":t.onComplete,"upload:canceled":function(e){return t.showUploadInformation("cancel")},"upload:failed":function(e){return t.showUploadInformation("fail",e)}},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{staticClass:"image-uploader__dropzone"},[t._v("\n              Drop image here\n              "),n("span",{staticClass:"separator"},[t._v("or")]),t._v(" "),n("u-button",{attrs:{type:"button",id:"upload-activator-"+t.imageUploadMenu.context}},[t._v("\n                select images\n              ")])],1)]},proxy:!0}])})],1),t._v(" "),n("v-tab-item",[n("div",{staticClass:"image-uploader__url"},[n("v-text-field",{attrs:{label:"URL",placeholder:"URL","validate-on-blur":!0,rules:[function(){return t.$v.imageUrl.required||"Can't be blank."},function(){return t.$v.imageUrl.url||"Invalid link."}]},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;!t.$v.imageUrl.$invalid&&t.uploadFromUrl()}},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}}),t._v(" "),n("u-button",{attrs:{disabled:t.$v.imageUrl.$invalid},on:{click:t.uploadFromUrl}},[t._v("\n            Insert\n          ")])],1)])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VList:d.a,VMenu:m.a,VTab:h.a,VTabItem:f.a,VTabs:v.a,VTabsItems:y.a,VTabsSlider:_.a,VTextField:w.a}),O()(component,{ClickOutside:P.a})},1114:function(t,e,n){"use strict";n(10);var r=n(3),o=(n(16),n(1073),n(984)),c=n(1057),l=n(170),d=n(43),m=n(357),h=n(121),f=n(94),v=n(178),y=n(14),_=n(17);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O=Object(y.a)(o.a,f.a,h.a,v.a,Object(l.a)("btnToggle"),Object(d.b)("inputValue")).extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return j(j(j(j(j({"v-btn":!0},f.a.options.computed.classes.call(this)),{},{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses),this.groupClasses),this.elevationClasses),this.sizeableClasses)},computedElevation(){if(!this.disabled)return m.a.options.computed.computedElevation.call(this)},computedRipple(){var t;const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(t=this.ripple)?t:e)},hasBg(){return!(this.text||this.plain||this.outlined||this.icon)},isElevated(){return Boolean(!(this.icon||this.text||this.outlined||this.depressed||this.disabled||this.plain||!(null==this.elevation||Number(this.elevation)>0)))},isRound(){return Boolean(this.icon||this.fab)},styles(){return j({},this.measurableStyles)}},created(){[["flat","text"],["outline","outlined"],["round","rounded"]].forEach((t=>{let[e,n]=t;this.$attrs.hasOwnProperty(e)&&Object(_.a)(e,n,this)}))},methods:{click(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(c.a,{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],{tag:n,data:data}=this.generateRouteLink(),r=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===n&&(data.attrs.type=this.type,data.attrs.disabled=this.disabled),data.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(n,this.disabled?data:r(this.color,data),e)}});e.a=O},1138:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ArtifactAside",props:{artifactId:String},data(){return{scrollTop:0,isCollapsed:!1,getScrollTopDebounced:t.debounce(this.getScrollTop,100),headerHeight:74,artifactHeaderHeight:52}},computed:l(l(l({},Object(o.c)("artifact",["isCommentMode"])),Object(o.e)("templateLocalState",["collapsedPanelArtifactIds"])),{},{isAsideCollapsed(){return t.get(this.collapsedPanelArtifactIds,this.artifactId,!1)},rootClass(){return{"artifact-aside":!0,"is-collapsed":this.isAsideCollapsed}},skipHeight(){return{"--artifact-header-height":"".concat(this.artifactHeaderHeight-Math.min(this.scrollTop,this.artifactHeaderHeight),"px")}}}),mounted(){this.getHeadersHeights(),this.getScrollTop(),document.addEventListener("scroll",this.getScrollTopDebounced)},beforeDestroy(){document.removeEventListener("scroll",this.getScrollTopDebounced)},methods:l(l({},Object(o.d)("templateLocalState",["togglePanelArtifactState"])),{},{asideToggle(){this.togglePanelArtifactState({artifactId:this.artifactId,collapse:!this.isAsideCollapsed})},getScrollTop(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop},getHeadersHeights(){const t=document.querySelector(".main-header"),e=document.querySelector(".artifact-header");t&&(this.headerHeight=t.offsetHeight),e&&(this.artifactHeaderHeight=e.offsetHeight)}})}}).call(this,n(12))},1139:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(8),c=n.n(o),l=n(11),d=n(1341);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"PresentationHeader",components:{OnlineUsers:d.a},props:{actionable:{type:Boolean,default:!1}},computed:h(h(h(h(h({},Object(l.e)("presentation",["areControlsVisible"])),Object(l.c)("projects",["currentProject"])),Object(l.c)("artifacts",["currentArtifact"])),Object(l.c)("impact-map",["imQuery"])),{},{projectName(){return t.get(this.currentProject,"name")||"untitled"},artifactType(){return t.get(this.currentArtifact,"type")},artifactName(){return this.isAllPersonasView?"All personas":t.get(this.currentArtifact,"name")||t.get(c.a,"artifactDefaultNames.".concat(this.artifactType))},artifactTypeHeader(){let header;switch(this.artifactType){case"cjm":header="Map";break;case"persona":header="Persona";break;case"impact-map":header="Impact map";break;default:header="Artifact"}return header},isAllPersonasView(){return"w-workspaceId-p-projectId-p"===this.$route.name||"present-w-workspaceId-p-projectId-artifact-personas"===this.$route.name},artifactEditModeLink(){const e=c.a["impact-map"],{workspaceId:n,projectId:r,artifactId:o}=this.$route.params,l="/w/".concat(n,"/p/").concat(r),d=t.get(c.a,"[".concat(this.artifactType,"].slug"));if(!d||!o)return"".concat(l,"/p");if(d===e.slug){const{impactView:t,filter:filter,sortBy:n,sortOrder:r}=this.imQuery,c="".concat(l,"/").concat(d,"/").concat(o,"?impactView=").concat(t);return t===e.viewType.normal?c:"".concat(c,"&filter=").concat(filter,"&sortBy=").concat(n,"&sortOrder=").concat(r)}return"".concat(l,"/").concat(d,"/").concat(o)}}),mounted(){document.addEventListener("keydown",this.onKeyDown)},beforeDestroy(){document.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown(t){t.keyCode===this.$keymap.ESC&&(this.$tracker.trackExitPresentationMode("hotkey"),this.$router.push(this.artifactEditModeLink))}}}}).call(this,n(12))},1140:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=(n(16),n(11));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"OnlineUsers",props:{artifactId:{type:String,default:""}},data:()=>({menuWidth:250,avatarSize:34,isMenu:!1}),computed:l(l({},Object(o.c)("collaboration",["presenceTabs","presenceTabsSize"])),{},{hiddenTabsSize(){return this.presenceTabsSize-this.tabsList.length},tabsList(){return t.take(t.values(this.presenceTabs),5)},usersCountText(){return"".concat(this.presenceTabsSize," user").concat(this.presenceTabsSize>1?"s":""," online")},menuNudgeOffset(){return this.menuWidth-this.avatarSize-22*(this.tabsList.length-1)}}),methods:{showMenu(){this.isMenu=!0,this.artifactId&&this.$tracker.trackViewOnlineUsers({artifactId:this.artifactId})}}}}).call(this,n(12))},1141:function(t,e,n){"use strict";(function(t){e.a={name:"BrandingPreview",props:{companyLogo:{type:Object,default:()=>({})},logoWidth:{type:Number,default:0},companyName:{type:String,default:""},companyUrl:{type:String,default:""},fontColor:{type:String,required:!0},backgroundColor:{type:String,required:!0}},computed:{logoSrc(){return t.get(this.companyLogo,"versions.medium.url")}}}}).call(this,n(12))},1171:function(t,e,n){"use strict";var r=n(17),o=n(2);e.a=o.default.extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:t=>!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}},computed:{isMobile(){const{mobile:t,width:e,name:n,mobileBreakpoint:r}=this.$vuetify.breakpoint;if(r===this.mobileBreakpoint)return t;const o=parseInt(this.mobileBreakpoint,10);return!isNaN(o)?e<o:n===this.mobileBreakpoint}},created(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(r.d)("mobile-break-point","mobile-breakpoint",this)}})},1172:function(t,e,n){"use strict";var r=n(2);e.a=r.default.extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}})},1236:function(t,e,n){"use strict";n(1065)},1254:function(t,e,n){"use strict";var r=n(1036);e.a=r.a.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=r.a.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},1263:function(t,e,n){},1264:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(8),c=n.n(o),l=n(11),d=n(992),m=n(346),h=n(171),f=n(1526),v=n(1341);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}const w=n(1103);e.a={name:"ArtifactHeader",components:{PresentationHeader:f.a,ProFeatureTooltip:h.a,PermissionControl:m.a,CommentPortalTarget:d.a,OnlineUsers:v.a},props:{artifact:{type:Object,default:null},disabled:Boolean},data(){return{isBreadcrumbsMenuVisible:!1,isExport:"true"===t.get(this.$store,"state.route.query.isExport"),isArtifactHeaderVisible:"true"===t.get(this.$store,"state.route.query.hasArtifactHeader")}},computed:_(_(_(_(_(_(_({},Object(l.c)("auth",["isAuthenticated"])),Object(l.c)("workspaces",["currentWorkspaceId","currentWorkspaceName"])),Object(l.c)("projects",["currentProject","currentProjectId","currentProjectName","isCurrentProjectSharedByEmail","isCurrentProjectDirectlyAccessibleByUser"])),Object(l.c)("artifact",["isCommentMode","isExportOrPresentationMode"])),Object(l.c)("artifacts",["artifactsList","currentArtifactId","currentArtifact"])),Object(l.c)("collaboration",["presenceTabsSize"])),{},{isAllPersonasView(){return"w-workspaceId-p-projectId-p"===this.$route.name},portalName:()=>"artifact-header",artifactsListWithoutCurrent(){return this.artifactsList.filter((a=>a.id!==this.currentArtifactId))},currentArtifactName(){return this.isAllPersonasView?"All personas":this.getArtifactName(this.currentArtifact)},breadcrumbsPath(){const path=[];return this.isAuthenticated&&(this.isCurrentProjectSharedByEmail?path.push({text:"Shared with me",link:"/w/shared"}):this.isCurrentProjectDirectlyAccessibleByUser&&path.push({text:this.currentWorkspaceName,link:"/w/".concat(this.currentWorkspaceId)})),path.concat({text:this.currentProjectName,link:"/w/".concat(this.currentWorkspaceId,"/p/").concat(this.currentProjectId)})},maxWidthLimit(){const t=this.presenceTabsSize>5?5:this.presenceTabsSize;return"".concat(35*t+80,"px")}}),methods:_(_({},Object(l.b)("artifacts",["updateArtifact"])),{},{artifactIconPath(t){let{type:e}=t;return w("./artifact-".concat(e,".svg"))},getArtifactLink(e,n){let{type:r,id:o}=e;if(!n)return"";const l=t.get(c.a,"".concat(r,".slug"));return"/w/".concat(this.currentWorkspaceId,"/p/").concat(this.currentProjectId,"/").concat(l,"/").concat(o)},getArtifactType(e){let{type:n}=e;return t.get(c.a,"".concat(n,".name"))},getArtifactColor:t=>"persona"===t.type&&t.color?t.color:"var(--color-secondary-".concat(t.type,")"),sliceArtifactNameText:e=>t.truncate(e,{length:40}),runUpdateArtifact(t){t&&t!==this.currentArtifact.name&&(this.$tracker.trackArtifactRename({artifactType:this.currentArtifact.type,artifactId:this.currentArtifact.id,oldArtifactName:this.currentArtifact.name,newArtifactName:t,source:"artifact"}),this.updateArtifact({id:this.currentArtifactId,name:t}))},getArtifactName(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name||t.get(c.a,"artifactDefaultNames.".concat(e.type))}})}}).call(this,n(12))},1266:function(t,e,n){},1267:function(t,e,n){},1268:function(t,e,n){},1341:function(t,e,n){"use strict";var r=n(1140).a,o=(n(1407),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(326),f=n(145),v=n(300),y=n(322),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"online-users",on:{click:t.showMenu}},[n("u-tooltip",{attrs:{"max-width":"240px","min-width":"100px",bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return t._l(t.tabsList,(function(e){return n("u-avatar",t._g({key:e.id,staticClass:"online-user",attrs:{"avatar-size":t.avatarSize+"px","icon-color":e.user.color,avatar:e.user.avatar,"inline-icon-width":"100%","inline-icon-height":"100%"}},r))}))}}])},[t._v(" "),n("p",{staticClass:"mb-0"},[n("b",{staticStyle:{"white-space":"nowrap"}},[t._v("Users online")])])]),t._v(" "),t.presenceTabsSize>t.tabsList.length?n("div",{staticClass:"online-users__count"},[t._v("\n    + "+t._s(t.hiddenTabsSize)+" more\n  ")]):t._e(),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-bottom":45,"nudge-left":t.menuNudgeOffset,"offset-x":"",right:"",attach:"",bottom:""},model:{value:t.isMenu,callback:function(e){t.isMenu=e},expression:"isMenu"}},[n("v-list",{attrs:{dense:"","max-width":t.menuWidth,"min-width":t.menuWidth,"max-height":435}},[n("v-subheader",{ref:"onlineUsersCount",staticClass:"online-users__menu-header"},[t._v("\n        "+t._s(t.usersCountText)+"\n      ")]),t._v(" "),t._l(t.presenceTabs,(function(e){return n("v-list-item",{key:"menu-"+e.id,attrs:{selectable:""}},[n("v-list-item-avatar",[n("u-avatar",{attrs:{"avatar-size":t.avatarSize+"px","icon-color":e.user.color,avatar:e.user.avatar,"inline-icon-width":"100%","inline-icon-height":"100%"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n            "+t._s(e.user.name)+"\n          ")])],1)],1)}))],2)],1)],1)}),[],!1,null,"3162e955",null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAvatar:h.a,VListItemContent:f.a,VListItemTitle:f.b,VMenu:v.a,VSubheader:y.a})},1382:function(t,e,n){},1396:function(t,e,n){"use strict";var r=n(1138).a,o=(n(1406),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.rootClass},[n("div",{staticClass:"artifact-aside__wrapper",class:{"artifact-aside__wrapper--comment-mode":t.isCommentMode},style:t.skipHeight},[n("div",{staticClass:"artifact-aside__content"},[t._t("default")],2),t._v(" "),t.isCommentMode?t._e():n("div",{staticClass:"artifact-aside__toggle",on:{click:t.asideToggle}},[n("div",{staticClass:"artifact-aside__toggle-arrow"},[n("icon",{attrs:{name:"collapsed",width:"12",height:"12"}})],1)])])])}),[],!1,null,null,null);e.a=component.exports},1406:function(t,e,n){"use strict";n(1263)},1407:function(t,e,n){"use strict";n(1266)},1408:function(t,e,n){"use strict";n(1267)},1409:function(t,e,n){"use strict";n(1268)},1526:function(t,e,n){"use strict";var r=n(1139).a,o=(n(1408),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"presentation-header":!0,"presentation-header--hidden":!t.areControlsVisible}},[n("div",{staticClass:"presentation-header__item"},[n("span",{staticClass:"presentation-header__label"},[t._v("Project:")]),t._v(" "),n("div",{staticClass:"presentation-header__title"},[t._v("\n      "+t._s(t.projectName)+"\n    ")])]),t._v(" "),n("div",{staticClass:"presentation-header__item"},[n("span",{staticClass:"presentation-header__label"},[t._v(t._s(t.artifactTypeHeader)+":")]),t._v(" "),n("div",{staticClass:"presentation-header__title"},[t._v("\n      "+t._s(t.artifactName)+"\n    ")])]),t._v(" "),n("div",{staticClass:"presentation-header__aside"},[n("online-users"),t._v(" "),t.actionable?n("u-btn",{staticClass:"presentation-header__action",attrs:{"btn-size":"50","icon-size":"32",icon:"delete-thin",href:t.artifactEditModeLink},on:{click:function(e){return t.$tracker.trackExitPresentationMode("cross")}}}):t._e()],1)])}),[],!1,null,null,null);e.a=component.exports},1527:function(t,e,n){"use strict";var r=n(1141).a,o=(n(1409),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"branding-preview",style:{backgroundColor:t.backgroundColor,color:t.fontColor}},[t.logoSrc?n("div",{staticClass:"branding-preview__logo"},[t.companyUrl?n("a",{attrs:{href:"http://"+t.companyUrl,target:"_blank"}},[n("div",{staticClass:"branding-preview__logo-img",style:{backgroundImage:"url("+t.logoSrc+")",width:t.logoWidth+"px"}})]):n("div",{staticClass:"branding-preview__logo-img",style:{backgroundImage:"url("+t.logoSrc+")",width:t.logoWidth+"px"}})]):t._e(),t._v(" "),t.companyUrl?n("a",{style:{color:t.fontColor},attrs:{href:"http://"+t.companyUrl,target:"_blank"}},[n("span",{staticClass:"branding-preview__name"},[t._v(t._s(t.companyName))])]):n("span",{staticClass:"branding-preview__name"},[t._v(t._s(t.companyName))])])}),[],!1,null,"2e608a30",null);e.a=component.exports},1626:function(t,e,n){"use strict";n(1382)},1733:function(t,e,n){"use strict";var r=n(1264).a,o=(n(1626),n(9)),c=n(20),l=n.n(c),d=n(323),m=n(161),h=n(326),f=n(145),v=n(300),y=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.isExport||t.isArtifactHeaderVisible?n("div",{staticClass:"artifact-header"},[t.isExport?n("presentation-header"):n("u-breadcrumbs",{attrs:{path:t.breadcrumbsPath,"max-width-limit":t.maxWidthLimit}},[n("v-tooltip",{staticClass:"breadcrumbs__last-item",attrs:{bottom:"","z-index":"20","max-width":"200","nudge-right":"100",disabled:t.currentArtifactName===t.sliceArtifactNameText(t.currentArtifactName),attach:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-menu",{staticClass:"breadcrumbs__menu",class:{"breadcrumbs__menu--comments":t.isCommentMode},attrs:{"min-width":"320","max-width":"480",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var menu=e.on;return[n("div",t._g({staticClass:"menu__arrow-wrapper"},Object.assign({},menu,r)),[0!==t.artifactsListWithoutCurrent.length?n("div",{staticClass:"menu__arrow",class:{"menu__arrow--expanded":t.isBreadcrumbsMenuVisible}},[n("icon",{attrs:{name:"arr-down",width:"7",height:"5"}})],1):t._e(),t._v(" "),n("u-editable",{staticClass:"breadcrumb",attrs:{"text-mode":"",readonly:t.disabled,"with-arrow":!0,"disallow-empty-value":!0,value:t.currentArtifactName},on:{blur:function(e){return t.runUpdateArtifact(e)}}})],1)]}}],null,!0),model:{value:t.isBreadcrumbsMenuVisible,callback:function(e){t.isBreadcrumbsMenuVisible=e},expression:"isBreadcrumbsMenuVisible"}},[t._v(" "),n("v-list",{staticClass:"artifact-header__list",staticStyle:{background:"white"}},t._l(t.artifactsListWithoutCurrent,(function(e){return n("permission-control",{key:e.id,attrs:{action:"update",model:"Artifact",instance:{id:e.id,type:e.type,project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.isPermission;return[n("v-list-item",{class:{"breadcrumb-tile":!0,"breadcrumb-tile--disabled":!o},attrs:{disabled:!o,to:t.getArtifactLink(e,o),nuxt:""}},[n("v-list-item-avatar",["persona"===e.type&&e.avatar?n("u-avatar",{staticClass:"artifact-title__avatar",style:{color:t.getArtifactColor(e)},attrs:{avatar:e.avatar,icon:"artifact-"+e.type,"icon-color":t.getArtifactColor(e)}}):n("div",{staticClass:"artifact-title__avatar",style:{backgroundColor:t.getArtifactColor(e)}},[n("img",{staticClass:"artifact-title__avatar-img",attrs:{src:t.artifactIconPath(e)}})])],1),t._v(" "),n("v-list-item-title",[t._v("\n                    "+t._s(t.getArtifactName(e))+"\n                  ")]),t._v(" "),o?t._e():n("pro-feature-tooltip",{staticClass:"breadcrumb-tile__permission",attrs:{feature:"open artifact","feature-text":"This "+t.getArtifactType(e)+" is not available on your plan.","feature-link-text":"Upgrade your subscription if you still need it","feature-purpose":"upgrade subscription"},nativeOn:{click:function(t){t.stopPropagation()}}})],1)]}}],null,!0)})})),1)],1)]}}],null,!1,4161901483)},[t._v(" "),t.currentArtifactName!==t.sliceArtifactNameText(t.currentArtifactName)?n("span",[t._v("\n        "+t._s(t.currentArtifactName)+"\n      ")]):t._e()])],1),t._v(" "),t.isExport?t._e():n("online-users",{attrs:{"artifact-id":t.artifact&&t.artifact.id}}),t._v(" "),n("comment-portal-target",{attrs:{"portal-name":t.portalName}})],1):t._e()}),[],!1,null,null,null);e.a=component.exports;l()(component,{VList:d.a,VListItem:m.a,VListItemAvatar:h.a,VListItemTitle:f.b,VMenu:v.a,VTooltip:y.a})},1825:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11),c=n(547),l=n(1056),d=n(1090),m=n(1396),h=n(1733),f=n(3426),v=n(1527),y=n(346);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={components:{PageApp:l.a,NavActions:d.a,ArtifactAside:m.a,ArtifactHeader:h.a,PersonasPanel:f.a,BrandingPreview:v.a,PermissionControl:y.a},async beforeRouteUpdate(t,e,n){e.path!==t.path&&this.clearArtifactState(),n()},middleware:[c.default],data(){return{isExport:"true"===t.get(this.$store,"state.route.query.isExport"),isBranding:"true"===t.get(this.$store,"state.route.query.isBranding"),availableNavActions:["undo","redo","copy-artifact-and-open","export","present","view-all-personas","commenting","font-settings","versions"],isAllPersonasView:"w-workspaceId-p-projectId-p"===this.$route.name}},head(){return{title:t.get(this,"persona.data.name")||"untitled",bodyAttrs:{class:"theme-persona rigid"}}},computed:w(w(w(w(w(w({},Object(o.c)("persona",["allPersonas","persona","updatedAtPersonas"])),Object(o.e)("persona",["personasQuery","isLoading"])),Object(o.c)("artifact",["isCommentMode","isVersionMode"])),Object(o.c)("workspaces",["branding"])),Object(o.c)("projects",["currentProject"])),{},{artifactClass(){return{"artifact-main":!0,"artifact-main--loading":this.isLoading,"artifact-main--comments":this.isCommentMode,"artifact-main--versions":this.isVersionMode}},isBrandedExport(){return this.isExport&&this.isBranding&&this.branding&&this.branding.isEnabled},artifactId(){return t.get(this.persona,"id",this.$route.params.projectId)}}),watch:{"$route.name":{handler(e){this.isAllPersonasView="w-workspaceId-p-projectId-p"===e,this.isAllPersonasView?t.remove(this.availableNavActions,(i=>"versions"===i)):this.availableNavActions.push("versions")},immediate:!0}},async mounted(){this.setIsLoading(!0);try{await this.fetchPersonas(this.$route.params.projectId);const e=this.$route.params.artifactId||t.get(this.personasQuery,"results[0].id");e&&await this.fetchProjectArtifact({artifactId:e})}catch(e){404===t.get(e,"response.status")?this.$nuxt.error({statusCode:404,message:"Not Found"}):this.setError({error:e})}finally{this.setIsLoading(!1)}this.$bus.on("artifactSectionAdded",this.onSectionAdded)},beforeDestroy(){this.$bus.off("artifactSectionAdded")},destroyed(){this.clearPersonaState()},methods:w(w(w(w(w(w(w(w({},Object(o.b)("artifact",["addArtifact","updateArtifact","fetchProjectArtifact"])),Object(o.b)("artifact",{clearArtifactState:"clearState"})),Object(o.b)("persona",["fetchPersonas","addSection","updatePersona"])),Object(o.b)("persona",{clearPersonaState:"clearState"})),Object(o.b)("persona",{deletePersonaArtifact:"deletePersona"})),Object(o.d)("persona",["setIsLoading"])),Object(o.d)("artifacts",["setMenuArtifactId"])),{},{async addPersona(){const t=await this.addArtifact({type:"persona"});this.setMenuArtifactId(t.id),this.redirectToPersona(t.id)},async deletePersona(t){const e=1===this.allPersonas.length,{workspaceId:n,projectId:r,artifactId:o}=this.$route.params,c=this.allPersonas.find((p=>p.id===t));try{if(await this.deletePersonaArtifact({personaId:t,projectId:r}),c&&this.$tracker.trackArtifactDelete({artifactsIds:[c.id]}),t===o){const e=this.getNextPersonaId(t);this.redirectToPersona(e)}e&&this.$router.push("/w/".concat(n,"/p/").concat(r))}catch(e){this.setError({error:e}),this.redirectToPersona(t)}},colorPersona(e){let{personaId:n,color:r}=e;const o=t.find(this.allPersonas,{id:n});o&&(this.updatePersona({persona:o,entries:[{path:["color"],value:r}]}),this.$tracker.trackPersonalityColorChange({personaId:n,color:r}))},avatarUploaded(t,e){this.updateArtifact({artifact:t,path:["avatar"],val:e,force:!0})},getNextPersonaId(e){const n=t.head(this.updatedAtPersonas.filter((p=>p.id!==e)));return n&&n.id},redirectToPersona(t){this.$router.push("/w/".concat(this.$route.params.workspaceId,"/p/").concat(this.$route.params.projectId,"/p/").concat(t||""))},onSectionAdded(t){this.addSection(t),this.$tracker.trackArtifactSectionAdd({artifactType:this.persona.data.type,artifactName:this.persona.data.name,artifactId:this.persona.id,sectionType:t.id}),this.$closeAllDialogs()}})}}).call(this,n(12))},1826:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(1026),c=n.n(o),l=n(11),d=n(348),m=n(171),h=n(346),f=n(349);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={components:{ContentEditable:d.a,ProFeatureTooltip:m.a,draggable:c(),PermissionControl:h.a,PermissionControlTooltip:f.a},data:()=>({initialPersonName:{},currentPersonName:{},isHighlighterOpen:!1,highlighterAnchorElementId:"",updateColorPersonasId:null,activePersonaColor:"default"}),computed:y(y(y(y(y({},Object(l.e)("auth",["user"])),Object(l.c)("artifact",["isCommentMode"])),Object(l.c)("projects",["currentProject"])),Object(l.c)("persona",["personasSorted"])),Object(l.c)("auth",["isAuthenticated"])),watch:{personasSorted:{handler(e){this.currentPersonName=e.reduce(((e,n)=>(e[n.id]=t.get(n,"data.name"),e)),{})},immediate:!0,deep:!0},async"personasSorted.length"(e,n){if(e!==n){const e=t.get(this.currentProject,"id");e&&await this.fetchProject({projectId:e})}}},methods:y(y(y(y({},Object(l.b)("persona",["movePersona"])),Object(l.b)("projects",["fetchProject"])),Object(l.d)("artifacts",["setMenuArtifactId"])),{},{addPersona(){this.$emit("persona-added")},personaLink(t){return"/w/".concat(this.$route.params.workspaceId,"/p/").concat(this.$route.params.projectId,"/p/").concat(t.id)},personaClass(t){let{persona:e,isPermission:n,isReadonly:r}=t;return{"personas-item":!0,"is-active":this.$route.params.artifactId===e.id,"is-disabled":this.isDisabledPersonas(n,r),"is-readonly":this.isCommentMode}},onPersonsDragEnded(t){let{oldIndex:e,newIndex:n}=t;this.isCommentMode||this.movePersona({oldIndex:e,newIndex:n})},onValueUpdate(t,e){this.currentPersonName[t.id]=e},renamePersona(e){this.currentPersonName[e.id]?this.updatePersonName(e,this.currentPersonName[e.id]):this.currentPersonName[e.id]=t.cloneDeep(this.initialPersonName[e.id])},updatePersonName(t,e){e&&this.initialPersonName[t.id]!==e&&(this.$emit("artifact-updated",{artifact:t,path:["name"],val:e}),this.trackPersonaRename(t))},trackPersonaRename(e){this.$tracker.trackArtifactRename({artifactType:"persona",artifactId:e.id,oldArtifactName:this.initialPersonName[e.id],newArtifactName:t.get(e,"data.name",""),source:"artifact"}),this.initialPersonName[e.id]=null},isDisabledPersonas:(t,e)=>!t||e,goToPersona(t){this.isCommentMode||(this.$router.push(this.personaLink(t)),this.selectPersona(t.id))},selectPersona(t){this.setMenuArtifactId(t)},openHighlighter(e){this.highlighterAnchorElementId="#photo-".concat(e),this.updateColorPersonasId=e;const n=t.find(this.personasSorted,{id:e});this.activePersonaColor=t.get(n,"data.color","default"),this.$nextTick((()=>{this.isHighlighterOpen=!0}))},updateSectorColor(e){this.isHighlighterOpen=!1;const n=t.find(this.personasSorted,{id:this.updateColorPersonasId});t.get(n,"data.color")!==e&&this.$emit("persona-colored",{personaId:this.updateColorPersonasId,color:e}),this.updateColorPersonasId=null}})}}).call(this,n(12))},2224:function(t,e,n){},2225:function(t,e,n){},2856:function(t,e,n){"use strict";n(2224)},2857:function(t,e,n){"use strict";n(2225)},3426:function(t,e,n){"use strict";var r=n(1826).a,o=(n(2856),n(9)),c=n(20),l=n.n(c),d=n(300),m=n(953),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel-personas"},[n("div",{staticClass:"panel-personas__header"},[t._v("\n    Personas ("+t._s(t.personasSorted.length)+")\n  ")]),t._v(" "),n("div",{staticClass:"panel-personas__wrap"},[n("draggable",t._b({attrs:{handle:".personas-item__move"},on:{end:function(e){return t.onPersonsDragEnded({oldIndex:e.oldIndex,newIndex:e.newIndex})}}},"draggable",{scrollSensitivity:100,ghostClass:"ghost"},!1),t._l(t.personasSorted,(function(e,r){return n("permission-control",{key:e.id,attrs:{action:"update",model:"Artifact",instance:{id:e.id,type:"persona",project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(o){var c=o.isPermission,l=o.isReadonly;return[n("div",{class:t.personaClass({persona:e,isPermission:c,isReadonly:l}),attrs:{"data-cy":"persona-panel-item-"+r},on:{click:function(n){return n.target!==n.currentTarget?null:t.goToPersona(e)}}},[n("div",{staticClass:"personas-item__buttons"},[!c||t.isCommentMode||l?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[n("u-btn",t._g({attrs:{"icon-size":"13",icon:"dropper"},on:{click:function(n){return n.stopPropagation(),t.openHighlighter(e.id)}}},o))]}}],null,!0)},[t._v(" "),n("span",[t._v("Change persona color")])]),t._v(" "),!c||t.isCommentMode||l?t._e():n("u-btn",{attrs:{"icon-size":"10",icon:"delete-thin"},on:{click:function(n){return n.stopPropagation(),t.$emit("persona-deleted",e.id)}}})],1),t._v(" "),!c||t.isCommentMode||l?t._e():n("div",{staticClass:"personas-item__move",on:{click:function(t){t.stopPropagation()}}},[n("icon",{attrs:{name:"drag-and-drop",width:"6",height:"10"}})],1),t._v(" "),n("u-avatar",{staticClass:"personas-item__photo",attrs:{id:"photo-"+e.id,"avatar-size":"62px","inline-icon-width":"100%","inline-icon-height":"100%",disabled:t.$route.params.artifactId!==e.id||!c||l,avatar:e.data.avatar,"image-size":"medium","icon-color":e.data.color},nativeOn:{click:function(n){return n.stopPropagation(),t.goToPersona(e)}}}),t._v(" "),n("content-editable",{staticClass:"personas-item__name",attrs:{value:t.currentPersonName[e.id],"is-multiline":!1,"select-all-on-focus":!0,placeholder:"Persona Name",disabled:!c||t.isCommentMode||l},on:{click:function(t){t.stopPropagation()},"value-updated":function(n){return t.onValueUpdate(e,n.value)},focused:function(n){t.initialPersonName[e.id]=e.data.name},blured:function(n){return t.renamePersona(e)}}}),t._v(" "),c?t._e():n("pro-feature-tooltip",{staticClass:"personas-item__permission",attrs:{feature:"open artifact","feature-text":"This persona is not available on your plan.","feature-link-text":"Get back to Pro if you still need it","feature-purpose":"get you back on Pro"},nativeOn:{click:function(t){t.stopPropagation()}}})],1)]}}],null,!0)})})),1),t._v(" "),n("v-menu",{attrs:{absolute:"",attach:t.highlighterAnchorElementId,"nudge-right":"62","nudge-bottom":"9","z-index":"5","content-class":"highlighter-wrapper highlighter-wrapper--right","min-width":"142"},model:{value:t.isHighlighterOpen,callback:function(e){t.isHighlighterOpen=e},expression:"isHighlighterOpen"}},[n("u-highlighter",{attrs:{"active-highlight":t.activePersonaColor,"update-highlight":t.updateSectorColor}})],1)],1),t._v(" "),n("div",{staticClass:"panel-personas__footer"},[t.currentProject?n("permission-control",{attrs:{model:"Artifact",action:"create",instance:{project:t.currentProject,type:"persona"}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isAdmin,o=e.isPermission,c=e.permission,l=e.isReadonly;return[l?t._e():n("permission-control-tooltip",{attrs:{"is-admin":r,"is-disabled":o,permission:c}},[n("u-button",{attrs:{disabled:!o||t.isCommentMode||l},on:{click:t.addPersona}},[t._v("\n            add persona\n          ")])],1)]}}],null,!1,3886745251)}):t._e()],1)])}),[],!1,null,null,null);e.a=component.exports;l()(component,{VMenu:d.a,VTooltip:m.a})},3516:function(t,e,n){"use strict";n.r(e);var r=n(1825).a,o=(n(2857),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-app",{scopedSlots:t._u([{key:"toolbar",fn:function(){return[n("nav-actions",{attrs:{"available-actions":t.availableNavActions,artifact:t.persona,"artifact-type":"persona","artifact-type-name":"persona"}})]},proxy:!0},{key:"content",fn:function(){return[n("div",{class:t.artifactClass},[t.isBrandedExport?n("branding-preview",{attrs:{"company-logo":t.branding.companyLogo,"logo-width":t.branding.logoWidth,"company-name":t.branding.companyName,"company-url":t.branding.companyUrl,"font-color":t.branding.fontColor,"background-color":t.branding.backgroundColor}}):t._e(),t._v(" "),t.isLoading?t._e():n("permission-control",{attrs:{action:"update",model:"Artifact",instance:{id:t.persona&&t.persona.id,type:"persona",project:t.currentProject}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.isPermission,o=e.isReadonly;return[n("artifact-header",{attrs:{artifact:t.persona,"show-artifact-name":!1,disabled:t.isAllPersonasView||o||!r}})]}}],null,!1,1130691240)}),t._v(" "),n("div",{staticClass:"artifact-wrap artifact-wrap--persona"},[t.isExport||t.isLoading?t._e():n("artifact-aside",{staticClass:"artifact-aside--personas",attrs:{"artifact-id":t.artifactId}},[n("personas-panel",{on:{"artifact-updated":t.updateArtifact,"persona-added":t.addPersona,"persona-deleted":t.deletePersona,"persona-colored":t.colorPersona,"avatar-uploaded":t.avatarUploaded}})],1),t._v(" "),n("nuxt-child")],1)],1)]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports},984:function(t,e,n){"use strict";var r=n(108);e.a=r.a},991:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11),c=n(177),l=n(346);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"PageApp",components:{HeaderApp:c.a,PermissionControl:l.a},data(){return{isExport:t.get(this.$store,"state.route.query.isExport")}},computed:m(m(m(m(m(m({},Object(o.e)("ui",["isPageAppSpinnerShow"])),Object(o.e)("workspaces",["workspaces"])),Object(o.c)("workspaces",["currentWorkspace"])),Object(o.c)("artifacts",["currentArtifact"])),Object(o.c)("auth",["userEmail"])),{},{artifactType(){return t.get(this.currentArtifact,"type")}})}}).call(this,n(12))},992:function(t,e,n){"use strict";var r=n(1028).a,o=(n(1236),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isCommentMode?n("portal-target",{class:t.rootClass,attrs:{name:t.portalName,"slot-props":{maxWidth:t.maxWidth,maxHeight:t.maxHeight},multiple:""},nativeOn:{click:function(e){return e.stopPropagation(),t.openAddCommentPopup({event:e,portalName:t.portalName})},dragleave:function(e){return e.preventDefault(),t.onDragLeave.apply(null,arguments)},dragenter:function(e){return e.preventDefault(),t.onDragEnter.apply(null,arguments)},dragover:function(e){return t.onDragOver.apply(null,arguments)},drop:function(e){return t.onDrop.apply(null,arguments)}}}):t._e()}),[],!1,null,null,null);e.a=component.exports},997:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=(n(16),n(11)),c=n(1035),l=n.n(c),d=n(15),m=n(1087),h=n(1059),f=n(1092),v=n(1088),y=n(1093),_=n(1094),w=n(346),j=n(349),O=n(1095),P=n(1096),k=n(1097),C=n(1089);function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"NavActions",components:{ArtifactMenu:P.a,ImageUploadMenu:k.a,ProjectMenu:O.a,VersionsMenu:C.a,FoldersMenu:v.a,ImpactViewMenu:y.a,ProjectViewMenu:_.a,ViewMenu:m.a,ArtifactViews:f.a,PermissionControl:w.a,PermissionControlTooltip:j.a},props:{artifact:{type:Object,default:()=>({})},artifactType:{type:String},artifactTypeName:{type:String},availableActions:{type:Array,required:!0,validator(t){const e=["add-project","copy-artifact-and-open","copy-project","export","folder","fullscreen","leave-shared-project","move-project","present","redo","share-project","undo","view-all-personas","commenting","artifact-views","invite-user","impact-view","font-settings","project-view","versions"];return t.every((t=>e.includes(t)))}}},data:()=>({maxTooltipsWidth:"250px",addArtifact:h.default,isMoreDropdownVisible:!1,isProjectViewVisible:!1,isMoreMenuVisible:!1,historyEnabled:d.artifactVersions.enabled}),computed:I(I(I(I(I(I(I(I(I(I(I(I(I(I(I(I({},Object(o.e)("ui",["foldersMenu","isCopyingInProgress"])),Object(o.e)("projects",["projects"])),Object(o.e)("folders",["folders"])),Object(o.e)("auth",["user"])),Object(o.c)("auth",["userId","isAuthenticated"])),Object(o.e)("artifact",["undoStack","redoStack"])),Object(o.c)("artifact",["isCommentMode","isVersionMode"])),Object(o.c)("artifacts",["currentArtifactId","activeArtifacts"])),Object(o.c)("artifact-views",["viewsList"])),Object(o.c)("comments",["hasUnreadComments"])),Object(o.c)("projects",["currentProjectId","currentProject","isCurrentProjectSharedByEmail","currentProjectFolderId","actionableProjectsIds"])),Object(o.c)("workspaces",["currentWorkspace","currentWorkspaceId","currentUserMembership","contributorInWorkspacesIds"])),Object(o.e)("ui",["confirmDeleteDialog"])),Object(o.e)("templateLocalState",["impactMapsConfigs"])),Object(o.c)("versions",["versionObject","versionNumber","lastVersionNumber"])),{},{artifactName(){return t.get(this.artifact,"data.name","")},isFolderButtonVisible(){return this.isAuthenticated&&this.availableActions.includes("folder")&&this.$can("create",{modelName:"Folder",workspace:this.currentWorkspaceId})},isArtifactViewsButtonVisible(){return this.availableActions.includes("artifact-views")},inviteLink(){return"/workspace/".concat(this.$route.params.workspaceId,"/invite")},commentsButtonClass(){return{"nav-actions__link":!0,"has-comments":this.hasUnreadComments}},isCommentButtonVisible(){return this.availableActions.includes("commenting")},isPageHaveMoreDropdown(){return this.availableActions.includes("copy-artifact-and-open")||this.availableActions.includes("fullscreen")||this.availableActions.includes("font-settings")},isFontSettingsButtonVisible(){return this.availableActions.includes("font-settings")},isImpactViewButtonVisible(){return this.availableActions.includes("impact-view")},isProjectViewButtonVisible(){return this.availableActions.includes("project-view")},commentButtonIcon(){return this.isCommentMode?"hide-comment":"add-comment"},commentButtonText(){return this.isCommentMode?"hide comments":"comments"},commentButtonTooltip(){return this.isCommentMode?"Hide comments":"View comments"},userHasAccessToProject(){return this.contributorInWorkspacesIds.includes(this.currentWorkspaceId)||this.isCurrentProjectSharedByEmail},isShareButtonVisible(){return this.availableActions.includes("share-project")&&this.userHasAccessToProject},isMoveProjectButtonVisible(){return this.availableActions.includes("move-project")&&this.contributorInWorkspacesIds.length>1},isEmptyProject(){const e=t.get(this.currentProject,"artifactCounts",{});return 0===t.sum(t.values(e))}}),mounted(){document.body.addEventListener("keydown",this.runUndoRedo),this.headerElement=document.querySelector(".main-header");const t=this.headerElement.offsetWidth;this.erd=l()({strategy:"scroll"}),this.erd.listenTo(this.headerElement,this.onResize),this.isMoreDropdownVisible=this.calculateIsMoreDropdownVisible(t)},beforeDestroy(){document.body.removeEventListener("keydown",this.runUndoRedo),this.erd&&this.erd.uninstall(this.headerElement)},methods:I(I(I(I(I({},Object(o.b)("artifact",["undo","redo","toggleCommentMode","toggleVersionMode","exitVersionMode"])),Object(o.b)("projects",["createProject","leaveProjects"])),Object(o.d)("ui",["setSuccess","openFoldersMenu","openDialog"])),Object(o.b)("ui",["openCopyArtifactDialog","openCopyProjectDialog","openProFeatureOverviewDialog","openShareProjectDialog"])),{},{openMoveProjectDialog(){this.$openDialog({title:"move to another workspace",component:()=>n.e(33).then(n.bind(null,1060)),shouldRedirectAfterMove:!0})},openExportDialog(){this.$openDialog({title:"Export settings",component:()=>n.e(31).then(n.bind(null,1067)),dialogProps:{persistent:!0,shouldSaveState:!0,cssClass:"fullheight-dialog"}},"export-settings-dialog")},openRestoreVersionDialog(){this.$openDialog({component:()=>n.e(39).then(n.bind(null,1340)),title:"Restore this version?",version:this.versionObject},"version-restore-dialog")},runUndoRedo(t){(t.ctrlKey||window.macKeys.ctrlKey)&&("KeyZ"===t.code&&0!==this.undoStack.length&&(this.undo(),setTimeout((()=>{this.$refs.undoBtn.$el.focus()}),50)),"KeyY"===t.code&&0!==this.redoStack.length&&(this.redo(),setTimeout((()=>{this.$refs.redoBtn.$el.focus()}),50)))},onFoldersButtonClick(){const{x:t,y:e,height:n}=this.$refs.foldersButton.$el.getBoundingClientRect();this.openFoldersMenu({x:t,y:e+n})},calculateIsMoreDropdownVisible:t=>t<=1420,enterFullscreenMode(){this.$fullscreen.toggle(document.documentElement,{wrap:!1,callback:t=>this.$bus.emit("fullscreen:change",t)}),this.$tracker.trackEnterFullscreen({artifactType:this.artifactType,artifactName:this.artifactName})},present(){let e;e=this.$route.params.artifactId?this.$route.params.artifactId:"persona"===this.artifactType?"personas":t.get(t.find(this.activeArtifacts,["deleted",!1]),"id"),e=e||"personas",this.$tracker.trackEnterPresentationMode();let n="";if(this.$route.name.includes("-i-artifactId")){const{viewType:r,userStoriesCurrentFilter:o,userStoriesSort:c}=t.get(this.impactMapsConfigs,e,{viewType:"impact-view",userStoriesCurrentFilter:"all",userStoriesSort:{sortBy:"text",sortOrder:"desc"}});n="?impactView=".concat(r,"&filter=").concat(o,"&sortBy=").concat(c.sortBy,"&sortOrder=").concat(c.sortOrder)}let r="/present/w/".concat(this.currentWorkspaceId,"/p/").concat(this.currentProjectId,"/artifact/").concat(e).concat(n);const o=t.get(this.$route,"query.viewId");o&&(r+="?viewId=".concat(o)),window.open(r)},inviteMember(){this.$router.push(this.inviteLink)},async leaveSharedProject(){await this.leaveProjects({ids:[this.currentProject.id]}),this.$router.push("/w/shared")},handleCopyButtonClick(t,e){t?this.openCopyArtifactDialog():e&&this.openProFeatureOverviewDialog({feature:"copying"})},handlePersonaViewButtonClick(t,e){(t||e)&&this.openProFeatureOverviewDialog({feature:"multiPersonaView"})},handleFontSettingsButtonClick(){this.artifact&&this.artifact.id&&this.$openDialog({title:"Font & colors",component:()=>Promise.all([n.e(4),n.e(134)]).then(n.bind(null,1342)),activeArtifact:this.artifact,dialogProps:{cssClass:"fullwidth fullheight-dialog",width:670}})},onCopyButtonClick(t){t?this.openCopyProjectDialog():this.openProFeatureOverviewDialog({feature:"copying"})},onResize(t){const e=t.offsetWidth;this.isMoreDropdownVisible=this.calculateIsMoreDropdownVisible(e)}})}}).call(this,n(12))},998:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ArtifactViews",props:{disabled:Boolean},data:()=>({isVisible:!1}),computed:l(l({},Object(o.c)("artifact-views",["viewsList","viewsById"])),{},{currentViewId(){return t.get(this.$route,"query.viewId")},currentView(){return this.currentViewId&&this.viewsById[this.currentViewId]},currentViewName(){return this.currentView?t.get(this.currentView,"settings.name"):"Default view"}}),methods:l(l({},Object(o.b)("artifact-views",["switchView","addView"])),{},{addViewSettings(){this.$openDialog({title:"View settings",component:()=>n.e(36).then(n.bind(null,1068)),dialogProps:{width:945,cssClass:"fullheight-dialog"}})},async copyViewSettings(e){const{settings:n}=t.cloneDeep(this.viewsById[e]);n.name="Copy of ".concat(n.name).substring(0,25);const{id:r}=await this.addView({settings:n});await this.switchView({viewId:r,oldViewId:this.currentViewId}),this.editViewSettings(r)},editViewSettings(t){this.$openDialog({title:"View settings",component:()=>n.e(36).then(n.bind(null,1068)),viewId:t,dialogProps:{width:945,cssClass:"fullheight-dialog"}})},openDeleteViewDialog(e){const r=this.viewsById[e],o=t.get(r,"settings.name","");this.$openDialog({title:"Delete ".concat(o,"?"),component:()=>n.e(151).then(n.bind(null,1345)),viewId:e,viewName:o})}})}}).call(this,n(12))},999:function(t,e,n){"use strict";(function(t){n(10);var r=n(3),o=n(11);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"ImpactViewMenu",data:()=>({isImpactMapViewVisible:!1}),computed:l(l({},Object(o.c)("impact-map",["impactMapId"])),Object(o.c)("templateLocalState",["currentImpactMapConfig"])),methods:l(l(l({},Object(o.d)("templateLocalState",["addOrUpdateImpactMapConfig"])),Object(o.b)("impact-map",["actualizeImpactMapView"])),{},{changeImpactViewType(t){this.changeRouteQuery(t),this.setImpactMapViewType(t)},changeRouteQuery(e){const n=l(l({},t.get(this.$store,"state.route.query",{})),{},{impactView:e});this.$router.push({query:n}),this.$tracker.trackArtifactImpactSwitchView({mode:e})},setImpactMapViewType(t){this.addOrUpdateImpactMapConfig({imId:this.impactMapId,field:"viewType",value:t})}})}}).call(this,n(12))}}]);